(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~89a8b29a"],{"0b32":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AddValidatorTx=e.AddDelegatorTx=e.WeightedValidatorTx=e.ValidatorTx=void 0;const i=r(s("9cc9")),n=r(s("b8ec")),o=s("f14b"),a=s("1c53"),u=s("1c35"),d=s("e7e8"),h=s("353c"),c=s("a944"),l=s("1c53"),f=s("c054"),p=n.default.getInstance(),g=f.Serialization.getInstance();class m extends o.BaseTx{constructor(t,e,s,r,i,n,o,a){super(t,e,s,r,i),this._typeName="ValidatorTx",this._typeID=void 0,this.nodeID=u.Buffer.alloc(20),this.startTime=u.Buffer.alloc(8),this.endTime=u.Buffer.alloc(8),this.nodeID=n,this.startTime=p.fromBNToBuffer(o,8),this.endTime=p.fromBNToBuffer(a,8)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{nodeID:g.encoder(this.nodeID,t,"Buffer","nodeID"),startTime:g.encoder(this.startTime,t,"Buffer","decimalString"),endTime:g.encoder(this.endTime,t,"Buffer","decimalString")})}deserialize(t,e="hex"){super.deserialize(t,e),this.nodeID=g.decoder(t["nodeID"],e,"nodeID","Buffer",20),this.startTime=g.decoder(t["startTime"],e,"decimalString","Buffer",8),this.endTime=g.decoder(t["endTime"],e,"decimalString","Buffer",8)}getNodeID(){return this.nodeID}getNodeIDString(){return c.bufferToNodeIDString(this.nodeID)}getStartTime(){return p.fromBufferToBN(this.startTime)}getEndTime(){return p.fromBufferToBN(this.endTime)}fromBuffer(t,e=0){return e=super.fromBuffer(t,e),this.nodeID=p.copyFrom(t,e,e+20),e+=20,this.startTime=p.copyFrom(t,e,e+8),e+=8,this.endTime=p.copyFrom(t,e,e+8),e+=8,e}toBuffer(){const t=super.toBuffer(),e=t.length+this.nodeID.length+this.startTime.length+this.endTime.length;return u.Buffer.concat([t,this.nodeID,this.startTime,this.endTime],e)}}e.ValidatorTx=m;class I extends m{constructor(t=h.DefaultNetworkID,e=u.Buffer.alloc(32,16),s,r,i,n,o,a,d){super(t,e,s,r,i,n,o,a),this._typeName="WeightedValidatorTx",this._typeID=void 0,this.weight=u.Buffer.alloc(8),void 0!==typeof d&&(this.weight=p.fromBNToBuffer(d,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{weight:g.encoder(this.weight,t,"Buffer","decimalString")})}deserialize(t,e="hex"){super.deserialize(t,e),this.weight=g.decoder(t["weight"],e,"decimalString","Buffer",8)}getWeight(){return p.fromBufferToBN(this.weight)}getWeightBuffer(){return this.weight}fromBuffer(t,e=0){return e=super.fromBuffer(t,e),this.weight=p.copyFrom(t,e,e+8),e+=8,e}toBuffer(){const t=super.toBuffer();return u.Buffer.concat([t,this.weight])}}e.WeightedValidatorTx=I;class b extends I{constructor(t=h.DefaultNetworkID,e=u.Buffer.alloc(32,16),s,r,i,n,o,a,c,l,f){super(t,e,s,r,i,n,o,a,c),this._typeName="AddDelegatorTx",this._typeID=d.PlatformVMConstants.ADDDELEGATORTX,this.stakeOuts=[],this.rewardOwners=void 0,this.getTxType=()=>this._typeID,void 0!==typeof l&&(this.stakeOuts=l),this.rewardOwners=f}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{stakeOuts:this.stakeOuts.map(e=>e.serialize(t)),rewardOwners:this.rewardOwners.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.stakeOuts=t["stakeOuts"].map(t=>{let s=new a.TransferableOutput;return s.deserialize(t,e),s}),this.rewardOwners=new l.ParseableOutput,this.rewardOwners.deserialize(t["rewardOwners"],e)}getStakeAmount(){return this.getWeight()}getStakeAmountBuffer(){return this.weight}getStakeOuts(){return this.stakeOuts}getStakeOutsTotal(){let t=new i.default(0);for(let e=0;e<this.stakeOuts.length;e++)t=t.add(this.stakeOuts[e].getOutput().getAmount());return t}getRewardOwners(){return this.rewardOwners}getTotalOuts(){return[...this.getOuts(),...this.getStakeOuts()]}fromBuffer(t,e=0){e=super.fromBuffer(t,e);const s=p.copyFrom(t,e,e+4);e+=4;const r=s.readUInt32BE(0);this.stakeOuts=[];for(let i=0;i<r;i++){const s=new a.TransferableOutput;e=s.fromBuffer(t,e),this.stakeOuts.push(s)}return this.rewardOwners=new l.ParseableOutput,e=this.rewardOwners.fromBuffer(t,e),e}toBuffer(){const t=super.toBuffer();let e=t.length;const s=u.Buffer.alloc(4);s.writeUInt32BE(this.stakeOuts.length,0);let r=[super.toBuffer(),s];e+=s.length,this.stakeOuts=this.stakeOuts.sort(a.TransferableOutput.comparator());for(let n=0;n<this.stakeOuts.length;n++){let t=this.stakeOuts[n].toBuffer();r.push(t),e+=t.length}let i=this.rewardOwners.toBuffer();return r.push(i),e+=i.length,u.Buffer.concat(r,e)}clone(){let t=new b;return t.fromBuffer(this.toBuffer()),t}create(...t){return new b(...t)}}e.AddDelegatorTx=b;class B extends b{constructor(t=h.DefaultNetworkID,e=u.Buffer.alloc(32,16),s,r,i,n,o,a,c,l,f,p){if(super(t,e,s,r,i,n,o,a,c,l,f),this._typeName="AddValidatorTx",this._typeID=d.PlatformVMConstants.ADDVALIDATORTX,this.delegationFee=0,this.getTxType=()=>this._typeID,"number"===typeof p){if(!(p>=0&&p<=100))throw new Error("AddValidatorTx.constructor -- delegationFee must be in the range of 0 and 100, inclusively.");this.delegationFee=parseFloat(p.toFixed(4))}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{delegationFee:g.encoder(this.getDelegationFeeBuffer(),t,"Buffer","decimalString",4)})}deserialize(t,e="hex"){super.deserialize(t,e);let s=g.decoder(t["delegationFee"],e,"decimalString","Buffer",4);this.delegationFee=s.readUInt32BE(0)/B.delegatorMultiplier}getDelegationFee(){return this.delegationFee}getDelegationFeeBuffer(){let t=u.Buffer.alloc(4),e=parseFloat(this.delegationFee.toFixed(4))*B.delegatorMultiplier;return t.writeUInt32BE(e,0),t}fromBuffer(t,e=0){e=super.fromBuffer(t,e);let s=p.copyFrom(t,e,e+4);return e+=4,this.delegationFee=s.readUInt32BE(0)/B.delegatorMultiplier,e}toBuffer(){let t=super.toBuffer(),e=this.getDelegationFeeBuffer();return u.Buffer.concat([t,e])}}e.AddValidatorTx=B,B.delegatorMultiplier=1e4},"13ee":function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JRPCAPI=void 0;const n=i(s("b8ec")),o=s("5af3");n.default.getInstance();class a extends o.APIBase{constructor(t,e,s="2.0"){super(t,e),this.jrpcVersion="2.0",this.rpcid=1,this.callMethod=(t,e,s)=>r(this,void 0,void 0,(function*(){const r=s||this.baseurl,i={};i.id=this.rpcid,i.method=t,e?i.params=e:"1.0"===this.jrpcVersion&&(i.params=[]),"1.0"!==this.jrpcVersion&&(i.jsonrpc=this.jrpcVersion);const n={"Content-Type":"application/json;charset=UTF-8"},o={baseURL:`${this.core.getProtocol()}://${this.core.getIP()}:${this.core.getPort()}`,responseType:"json"};return this.core.post(r,{},JSON.stringify(i),n,o).then(t=>{if(t.status>=200&&t.status<300&&(this.rpcid+=1,"string"===typeof t.data&&(t.data=JSON.parse(t.data)),"object"===typeof t.data&&(null===t.data||"error"in t.data)))throw new Error("Error returned: "+JSON.stringify(t.data));return t})})),this.getRPCID=()=>this.rpcid,this.jrpcVersion=s,this.rpcid=1}}e.JRPCAPI=a},1528:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InfoAPI=void 0;const n=s("13ee"),o=i(s("9cc9"));class a extends n.JRPCAPI{constructor(t,e="/ext/info"){super(t,e),this.getBlockchainID=t=>r(this,void 0,void 0,(function*(){const e={alias:t};return this.callMethod("info.getBlockchainID",e).then(t=>t.data.result.blockchainID)})),this.getNetworkID=()=>r(this,void 0,void 0,(function*(){const t={};return this.callMethod("info.getNetworkID",t).then(t=>t.data.result.networkID)})),this.getNetworkName=()=>r(this,void 0,void 0,(function*(){return this.callMethod("info.getNetworkName").then(t=>t.data.result.networkName)})),this.getNodeID=()=>r(this,void 0,void 0,(function*(){const t={};return this.callMethod("info.getNodeID",t).then(t=>t.data.result.nodeID)})),this.getNodeVersion=()=>r(this,void 0,void 0,(function*(){return this.callMethod("info.getNodeVersion").then(t=>t.data.result.version)})),this.getTxFee=()=>r(this,void 0,void 0,(function*(){return this.callMethod("info.getTxFee").then(t=>({txFee:new o.default(t.data.result.txFee,10),creationTxFee:new o.default(t.data.result.creationTxFee,10)}))})),this.isBootstrapped=t=>r(this,void 0,void 0,(function*(){const e={chain:t};return this.callMethod("info.isBootstrapped",e).then(t=>t.data.result.isBootstrapped)})),this.peers=()=>r(this,void 0,void 0,(function*(){return this.callMethod("info.peers").then(t=>t.data.result.peers)}))}}e.InfoAPI=a},"1c53":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SECPOwnerOutput=e.StakeableLockOut=e.SECPTransferOutput=e.AmountOutput=e.ParseableOutput=e.TransferableOutput=e.SelectOutputClass=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("2555"),u=s("c054"),d=n.default.getInstance(),h=u.Serialization.getInstance();e.SelectOutputClass=(t,...e)=>{if(t==o.PlatformVMConstants.SECPXFEROUTPUTID)return new p(...e);if(t==o.PlatformVMConstants.SECPOWNEROUTPUTID)return new m(...e);if(t==o.PlatformVMConstants.STAKEABLELOCKOUTID)return new g(...e);throw new Error("Error - SelectOutputClass: unknown outputid "+t)};class c extends a.StandardTransferableOutput{constructor(){super(...arguments),this._typeName="TransferableOutput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.output=e.SelectOutputClass(t["output"]["_typeID"]),this.output.deserialize(t["output"],s)}fromBuffer(t,s=0){this.assetID=d.copyFrom(t,s,s+o.PlatformVMConstants.ASSETIDLEN),s+=o.PlatformVMConstants.ASSETIDLEN;const r=d.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.output=e.SelectOutputClass(r),this.output.fromBuffer(t,s)}}e.TransferableOutput=c;class l extends a.StandardParseableOutput{constructor(){super(...arguments),this._typeName="ParseableOutput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.output=e.SelectOutputClass(t["output"]["_typeID"]),this.output.deserialize(t["output"],s)}fromBuffer(t,s=0){const r=d.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.output=e.SelectOutputClass(r),this.output.fromBuffer(t,s)}}e.ParseableOutput=l;class f extends a.StandardAmountOutput{constructor(){super(...arguments),this._typeName="AmountOutput",this._typeID=void 0}makeTransferable(t){return new c(t,this)}select(t,...s){return e.SelectOutputClass(t,...s)}}e.AmountOutput=f;class p extends f{constructor(){super(...arguments),this._typeName="SECPTransferOutput",this._typeID=o.PlatformVMConstants.SECPXFEROUTPUTID}getOutputID(){return this._typeID}create(...t){return new p(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}}e.SECPTransferOutput=p;class g extends f{constructor(t,e,s,r,i,n){super(t,e,s,r),this._typeName="StakeableLockOut",this._typeID=o.PlatformVMConstants.STAKEABLELOCKOUTID,"undefined"!==typeof i&&(this.stakeableLocktime=d.fromBNToBuffer(i,8)),"undefined"!==typeof n&&(this.transferableOutput=n,this.synchronize())}serialize(t="hex"){let e=super.serialize(t),s=Object.assign(Object.assign({},e),{stakeableLocktime:h.encoder(this.stakeableLocktime,t,"Buffer","decimalString",8),transferableOutput:this.transferableOutput.serialize(t)});return delete s["addresses"],delete s["locktime"],delete s["threshold"],delete s["amount"],s}deserialize(t,e="hex"){t["addresses"]=[],t["locktime"]="0",t["threshold"]="1",t["amount"]="99",super.deserialize(t,e),this.stakeableLocktime=h.decoder(t["stakeableLocktime"],e,"decimalString","Buffer",8),this.transferableOutput=new l,this.transferableOutput.deserialize(t["transferableOutput"],e),this.synchronize()}synchronize(){let t=this.transferableOutput.getOutput();this.addresses=t.getAddresses().map(t=>{let e=new a.Address;return e.fromBuffer(t),e}),this.numaddrs=i.Buffer.alloc(4),this.numaddrs.writeUInt32BE(this.addresses.length,0),this.locktime=d.fromBNToBuffer(t.getLocktime(),8),this.threshold=i.Buffer.alloc(4),this.threshold.writeUInt32BE(t.getThreshold(),0),this.amount=d.fromBNToBuffer(t.getAmount(),8),this.amountValue=t.getAmount()}getStakeableLocktime(){return d.fromBufferToBN(this.stakeableLocktime)}getTransferableOutput(){return this.transferableOutput}makeTransferable(t){return new c(t,this)}select(t,...s){return e.SelectOutputClass(t,...s)}fromBuffer(t,e=0){return this.stakeableLocktime=d.copyFrom(t,e,e+8),e+=8,this.transferableOutput=new l,e=this.transferableOutput.fromBuffer(t,e),this.synchronize(),e}toBuffer(){let t=this.transferableOutput.toBuffer();const e=this.stakeableLocktime.length+t.length,s=[this.stakeableLocktime,t];return i.Buffer.concat(s,e)}getOutputID(){return this._typeID}create(...t){return new g(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}}e.StakeableLockOut=g;class m extends a.Output{constructor(){super(...arguments),this._typeName="SECPOwnerOutput",this._typeID=o.PlatformVMConstants.SECPOWNEROUTPUTID}getOutputID(){return this._typeID}makeTransferable(t){return new c(t,this)}create(...t){return new m(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}select(t,...s){return e.SelectOutputClass(t,...s)}}e.SECPOwnerOutput=m},2555:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseNFTOutput=e.StandardAmountOutput=e.StandardTransferableOutput=e.StandardParseableOutput=e.Output=e.OutputOwners=e.Address=void 0;const i=s("1c35"),n=r(s("9cc9")),o=r(s("b8ec")),a=s("286d"),u=s("a944"),d=s("c054"),h=o.default.getInstance(),c=d.Serialization.getInstance();class l extends a.NBytes{constructor(){super(),this._typeName="Address",this._typeID=void 0,this.bytes=i.Buffer.alloc(20),this.bsize=20}toString(){return h.cb58Encode(this.toBuffer())}fromString(t){const e=h.b58ToBuffer(t);if(24===e.length&&h.validateChecksum(e)){const t=h.copyFrom(e,0,e.length-4);20===t.length&&(this.bytes=t)}else{if(24===e.length)throw new Error("Error - Address.fromString: invalid checksum on address");if(20!==e.length)throw new Error("Error - Address.fromString: invalid address");this.bytes=e}return this.getSize()}clone(){let t=new l;return t.fromBuffer(this.toBuffer()),t}create(...t){return new l}}e.Address=l,l.comparator=()=>(t,e)=>i.Buffer.compare(t.toBuffer(),e.toBuffer());class f extends d.Serializable{constructor(t,e,s){if(super(),this._typeName="OutputOwners",this._typeID=void 0,this.locktime=i.Buffer.alloc(8),this.threshold=i.Buffer.alloc(4),this.numaddrs=i.Buffer.alloc(4),this.addresses=[],this.getThreshold=()=>this.threshold.readUInt32BE(0),this.getLocktime=()=>h.fromBufferToBN(this.locktime),this.getAddresses=()=>{const t=[];for(let e=0;e<this.addresses.length;e++)t.push(this.addresses[e].toBuffer());return t},this.getAddressIdx=t=>{for(let e=0;e<this.addresses.length;e++)if(this.addresses[e].toBuffer().toString("hex")===t.toString("hex"))return e;return-1},this.getAddress=t=>{if(t<this.addresses.length)return this.addresses[t].toBuffer();throw new Error("Error - Output.getAddress: idx out of range")},this.meetsThreshold=(t,e)=>{let s;s="undefined"===typeof e?u.UnixNow():e;const r=this.getSpenders(t,s),i=this.threshold.readUInt32BE(0);return r.length>=i},this.getSpenders=(t,e)=>{const s=[];let r;r="undefined"===typeof e?u.UnixNow():e;const i=h.fromBufferToBN(this.locktime);if(r.lte(i))return s;const n=this.threshold.readUInt32BE(0);for(let o=0;o<this.addresses.length&&s.length<n;o++)for(let e=0;e<t.length&&s.length<n;e++)t[e].toString("hex")===this.addresses[o].toBuffer().toString("hex")&&s.push(t[e]);return s},"undefined"!==typeof t&&t.length){const e=[];for(let s=0;s<t.length;s++)e[s]=new l,e[s].fromBuffer(t[s]);this.addresses=e,this.addresses.sort(l.comparator()),this.numaddrs.writeUInt32BE(this.addresses.length,0)}void 0!==typeof s&&this.threshold.writeUInt32BE(s||1,0),"undefined"!==typeof e&&(this.locktime=h.fromBNToBuffer(e,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{locktime:c.encoder(this.locktime,t,"Buffer","decimalString",8),threshold:c.encoder(this.threshold,t,"Buffer","decimalString",4),addresses:this.addresses.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.locktime=c.decoder(t["locktime"],e,"decimalString","Buffer",8),this.threshold=c.decoder(t["threshold"],e,"decimalString","Buffer",4),this.addresses=t["addresses"].map(t=>{let s=new l;return s.deserialize(t,e),s}),this.numaddrs=i.Buffer.alloc(4),this.numaddrs.writeUInt32BE(this.addresses.length,0)}fromBuffer(t,e=0){this.locktime=h.copyFrom(t,e,e+8),e+=8,this.threshold=h.copyFrom(t,e,e+4),e+=4,this.numaddrs=h.copyFrom(t,e,e+4),e+=4;const s=this.numaddrs.readUInt32BE(0);this.addresses=[];for(let r=0;r<s;r++){const s=new l;e=s.fromBuffer(t,e),this.addresses.push(s)}return this.addresses.sort(l.comparator()),e}toBuffer(){this.addresses.sort(l.comparator()),this.numaddrs.writeUInt32BE(this.addresses.length,0);let t=this.locktime.length+this.threshold.length+this.numaddrs.length;const e=[this.locktime,this.threshold,this.numaddrs];for(let s=0;s<this.addresses.length;s++){const r=this.addresses[s].toBuffer();e.push(r),t+=r.length}return i.Buffer.concat(e,t)}toString(){return h.bufferToB58(this.toBuffer())}}e.OutputOwners=f,f.comparator=()=>(t,e)=>{const s=i.Buffer.alloc(4);s.writeUInt32BE(t.getOutputID(),0);const r=t.toBuffer(),n=i.Buffer.alloc(4);n.writeUInt32BE(e.getOutputID(),0);const o=e.toBuffer(),a=i.Buffer.concat([s,r],s.length+r.length),u=i.Buffer.concat([n,o],n.length+o.length);return i.Buffer.compare(a,u)};class p extends f{constructor(){super(...arguments),this._typeName="Output",this._typeID=void 0}}e.Output=p;class g extends d.Serializable{constructor(t){super(),this._typeName="StandardParseableOutput",this._typeID=void 0,this.getOutput=()=>this.output,t instanceof p&&(this.output=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{output:this.output.serialize(t)})}toBuffer(){const t=this.output.toBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.output.getOutputID(),0);const s=[e,t];return i.Buffer.concat(s,e.length+t.length)}}e.StandardParseableOutput=g,g.comparator=()=>(t,e)=>{const s=t.toBuffer(),r=e.toBuffer();return i.Buffer.compare(s,r)};class m extends g{constructor(t,e){super(e),this._typeName="StandardTransferableOutput",this._typeID=void 0,this.assetID=void 0,this.getAssetID=()=>this.assetID,"undefined"!==typeof t&&(this.assetID=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{assetID:c.encoder(this.assetID,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.assetID=c.decoder(t["assetID"],e,"cb58","Buffer",32)}toBuffer(){const t=super.toBuffer(),e=[this.assetID,t];return i.Buffer.concat(e,this.assetID.length+t.length)}}e.StandardTransferableOutput=m;class I extends p{constructor(t,e,s,r){super(e,s,r),this._typeName="StandardAmountOutput",this._typeID=void 0,this.amount=i.Buffer.alloc(8),this.amountValue=new n.default(0),this.getAmount=()=>this.amountValue.clone(),"undefined"!==typeof t&&(this.amountValue=t.clone(),this.amount=h.fromBNToBuffer(t,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{amount:c.encoder(this.amount,t,"Buffer","decimalString",8)})}deserialize(t,e="hex"){super.deserialize(t,e),this.amount=c.decoder(t["amount"],e,"decimalString","Buffer",8),this.amountValue=h.fromBufferToBN(this.amount)}fromBuffer(t,e=0){return this.amount=h.copyFrom(t,e,e+8),this.amountValue=h.fromBufferToBN(this.amount),e+=8,super.fromBuffer(t,e)}toBuffer(){const t=super.toBuffer(),e=this.amount.length+t.length;this.numaddrs.writeUInt32BE(this.addresses.length,0);const s=[this.amount,t];return i.Buffer.concat(s,e)}}e.StandardAmountOutput=I;class b extends p{constructor(){super(...arguments),this._typeName="BaseNFTOutput",this._typeID=void 0,this.groupID=i.Buffer.alloc(4),this.getGroupID=()=>this.groupID.readUInt32BE(0)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{groupID:c.encoder(this.groupID,t,"Buffer","decimalString",4)})}deserialize(t,e="hex"){super.deserialize(t,e),this.groupID=c.decoder(t["groupID"],e,"decimalString","Buffer",4)}}e.BaseNFTOutput=b},"25d6":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UTXOSet=e.AssetAmountDestination=e.UTXO=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("9cc9")),a=s("1c53"),u=s("872c"),d=s("a944"),h=s("c09e"),c=s("e7e8"),l=s("e549"),f=s("d7cd"),p=s("353c"),g=s("8918"),m=s("f14b"),I=s("6ed7"),b=s("0b32"),B=s("5ab8"),x=s("c054"),y=n.default.getInstance(),T=x.Serialization.getInstance();class w extends h.StandardUTXO{constructor(){super(...arguments),this._typeName="UTXO",this._typeID=void 0}deserialize(t,e="hex"){super.deserialize(t,e),this.output=a.SelectOutputClass(t["output"]["_typeID"]),this.output.deserialize(t["output"],e)}fromBuffer(t,e=0){this.codecid=y.copyFrom(t,e,e+2),e+=2,this.txid=y.copyFrom(t,e,e+32),e+=32,this.outputidx=y.copyFrom(t,e,e+4),e+=4,this.assetid=y.copyFrom(t,e,e+32),e+=32;const s=y.copyFrom(t,e,e+4).readUInt32BE(0);return e+=4,this.output=a.SelectOutputClass(s),this.output.fromBuffer(t,e)}fromString(t){return this.fromBuffer(y.cb58Decode(t))}toString(){return y.cb58Encode(this.toBuffer())}clone(){const t=new w;return t.fromBuffer(this.toBuffer()),t}create(t=c.PlatformVMConstants.LATESTCODEC,e,s,r,i){return new w(t,e,s,r,i)}}e.UTXO=w;class S extends I.StandardAssetAmountDestination{}e.AssetAmountDestination=S;class O extends h.StandardUTXOSet{constructor(){super(...arguments),this._typeName="UTXOSet",this._typeID=void 0,this.getConsumableUXTO=(t=d.UnixNow(),e=!1)=>this.getAllUTXOs().filter(s=>{if(e)return!0;const r=s.getOutput();if(!(r instanceof a.StakeableLockOut))return!0;const i=r;return!!i.getStakeableLocktime().lt(t)}),this.getMinimumSpendable=(t,e=d.UnixNow(),s=new o.default(0),r=1,i=!1)=>{let n=this.getConsumableUXTO(e,i),h=[];i&&(n.forEach(t=>{22===t.getOutput().getTypeID()&&h.push(t)}),h.sort((t,e)=>{let s=t.getOutput(),r=e.getOutput();return r.getStakeableLocktime().toNumber()-s.getStakeableLocktime().toNumber()}),n.forEach(t=>{7===t.getOutput().getTypeID()&&h.push(t)}),n=h);const c={};if(n.forEach((s,r)=>{const i=s.getAssetID(),n=i.toString("hex"),o=t.getSenders(),d=s.getOutput();if(!(d instanceof a.AmountOutput)||!t.assetExists(n)||!d.meetsThreshold(o,e))return;const h=t.getAssetAmount(n);if(h.isFinished())return;n in c||(c[n]={lockedStakeable:[],unlocked:[]});const l=d,f=l.getAmount();let p=new u.SECPTransferInput(f),g=!1;if(l instanceof a.StakeableLockOut){const t=l,s=t.getStakeableLocktime();s.gt(e)&&(p=new u.StakeableLockIn(f,s,new u.ParseableInput(p)),g=!0)}h.spendAmount(f,g),g?c[n].lockedStakeable.push(l):c[n].unlocked.push(l);const m=l.getSpenders(o,e);m.forEach(t=>{const e=l.getAddressIdx(t);if(-1===e)throw new Error("Error - UTXOSet.getMinimumSpendable: no such address in output: "+t);p.addSignatureIdx(e,t)});const I=s.getTxID(),b=s.getOutputIdx(),B=new u.TransferableInput(I,b,i,p);t.addInput(B)}),!t.canComplete())return new Error("Error - UTXOSet.getMinimumSpendable: insufficient funds to create the transaction");const l=new o.default(0),f=t.getAmounts();f.forEach(e=>{const i=e.getChange(),n=e.getStakeableLockChange(),o=n?i:l.clone(),u=e.getAssetID(),d=e.getAssetIDString(),h=c[d].lockedStakeable;h.forEach((e,s)=>{const r=e.getStakeableLocktime(),i=e.getTransferableOutput(),n=i.getOutput();let d=n.getAmount();if(s==h.length-1&&o.gt(l)){d=d.sub(o);const s=a.SelectOutputClass(n.getOutputID(),o,n.getAddresses(),n.getLocktime(),n.getThreshold());let i=a.SelectOutputClass(e.getOutputID(),o,n.getAddresses(),n.getLocktime(),n.getThreshold(),r,new a.ParseableOutput(s));const h=new a.TransferableOutput(u,i);t.addChange(h)}const c=a.SelectOutputClass(n.getOutputID(),d,n.getAddresses(),n.getLocktime(),n.getThreshold()),f=a.SelectOutputClass(e.getOutputID(),d,n.getAddresses(),n.getLocktime(),n.getThreshold(),r,new a.ParseableOutput(c)),p=new a.TransferableOutput(u,f);t.addOutput(p)});const f=n?l.clone():i;if(f.gt(l)){const e=new a.SECPTransferOutput(f,t.getChangeAddresses(),l.clone(),1),s=new a.TransferableOutput(u,e);t.addChange(s)}const p=e.getSpent(),g=e.getStakeableLockSpent(),m=p.sub(g),I=e.getBurn(),b=m.sub(I),B=b.sub(f);if(B.gt(l)){const e=new a.SECPTransferOutput(B,t.getDestinations(),s,r),i=new a.TransferableOutput(u,e);t.addOutput(i)}})},this.buildBaseTx=(t,e,s,r,i,n,a,u,h,c,f=d.UnixNow(),p=new o.default(0),g=1)=>{if(g>i.length)throw new Error("Error - UTXOSet.buildBaseTx: threshold is greater than number of addresses");"undefined"===typeof a&&(a=i),"undefined"===typeof h&&(h=r);const I=new o.default(0);if(s.eq(I))return;const b=new S(i,n,a);r.toString("hex")===h.toString("hex")?b.addAssetAmount(r,s,u):(b.addAssetAmount(r,s,I),this._feeCheck(u,h)&&b.addAssetAmount(h,I,u));let B=[],x=[];const y=this.getMinimumSpendable(b,f,p,g);if("undefined"!==typeof y)throw y;B=b.getInputs(),x=b.getAllOutputs();const T=new m.BaseTx(t,e,x,B,c);return new l.UnsignedTx(T)},this.buildImportTx=(t,e,s,r,i,n,h,c,f,p,m=d.UnixNow(),I=new o.default(0),b=1)=>{const B=new o.default(0);let x=[],y=[];"undefined"===typeof c&&(c=B.clone());const T=[];let w=new o.default(0),O=f.toString("hex");for(let o=0;o<n.length;o++){const t=n[o],e=t.getAssetID(),r=t.getOutput();let i=r.getAmount().clone(),d=i.clone(),h=e.toString("hex");"undefined"!==typeof f&&c.gt(B)&&w.lt(c)&&h===O&&(w=w.add(d),w.gte(c)?(d=w.sub(c),w=c.clone()):d=B.clone());const l=t.getTxID(),p=t.getOutputIdx(),g=new u.SECPTransferInput(i),x=new u.TransferableInput(l,p,e,g),S=r.getAddresses(),D=r.getSpenders(S,m);for(let s=0;s<D.length;s++){const t=r.getAddressIdx(D[s]);if(-1===t)throw new Error("Error - UTXOSet.buildImportTx: no such address in output: "+D[s]);x.getInput().addSignatureIdx(t,D[s])}if(T.push(x),d.gt(B)){const t=a.SelectOutputClass(r.getOutputID(),d,s,I,b),i=new a.TransferableOutput(e,t);y.push(i)}}let D=c.sub(w);if(D.gt(B)&&this._feeCheck(D,f)){const t=new S(s,r,i);t.addAssetAmount(f,B,D);const e=this.getMinimumSpendable(t,m,I,b);if("undefined"!==typeof e)throw e;x=t.getInputs(),y=t.getAllOutputs()}const A=new g.ImportTx(t,e,y,x,p,h,T);return new l.UnsignedTx(A)},this.buildExportTx=(t,e,s,r,i,n,a,u,h,c,g,m=d.UnixNow(),I=new o.default(0),b=1)=>{let B=[],x=[],T=[];"undefined"===typeof a&&(a=i);const w=new o.default(0);if(s.eq(w))return;if("undefined"===typeof c)c=r;else if(c.toString("hex")!==r.toString("hex"))throw new Error("Error - UTXOSet.buildExportTx: feeAssetID must match avaxAssetID");"undefined"===typeof u&&(u=y.cb58Decode(p.Defaults.network[t].X["blockchainID"]));const O=new S(i,n,a);r.toString("hex")===c.toString("hex")?O.addAssetAmount(r,s,h):(O.addAssetAmount(r,s,w),this._feeCheck(h,c)&&O.addAssetAmount(c,w,h));const D=this.getMinimumSpendable(O,m,I,b);if("undefined"!==typeof D)throw D;B=O.getInputs(),x=O.getChangeOutputs(),T=O.getOutputs();const A=new f.ExportTx(t,e,x,B,g,u,T);return new l.UnsignedTx(A)},this.buildAddDelegatorTx=(t=p.DefaultNetworkID,e,s,r,i,n,u,h,c,f,g,m,I,B,x,y,T=d.UnixNow())=>{let w=[],O=[],D=[];const A=new o.default(0),k=d.UnixNow();if(h.lt(k)||c.lte(h))throw new Error("UTXOSet.buildAddDelegatorTx -- startTime must be in the future and endTime must come after startTime");const v=new S(r,i,n);s.toString("hex")===x.toString("hex")?v.addAssetAmount(s,f,B):(v.addAssetAmount(s,f,A),this._feeCheck(B,x)&&v.addAssetAmount(x,A,B));const _=this.getMinimumSpendable(v,T,void 0,void 0,!0);if("undefined"!==typeof _)throw _;w=v.getInputs(),O=v.getChangeOutputs(),D=v.getOutputs();const E=new a.SECPOwnerOutput(I,g,m),C=new b.AddDelegatorTx(t,e,O,w,y,u,h,c,f,D,new a.ParseableOutput(E));return new l.UnsignedTx(C)},this.buildAddValidatorTx=(t=p.DefaultNetworkID,e,s,r,i,n,u,h,c,f,g,m,I,B,x,y,T,w=d.UnixNow())=>{let O=[],D=[],A=[];const k=new o.default(0),v=d.UnixNow();if(h.lt(v)||c.lte(h))throw new Error("UTXOSet.buildAddValidatorTx -- startTime must be in the future and endTime must come after startTime");if(B>100||B<0)throw new Error("UTXOSet.buildAddValidatorTx -- startTime must be in the range of 0 to 100, inclusively");const _=new S(r,i,n);s.toString("hex")===y.toString("hex")?_.addAssetAmount(s,f,x):(_.addAssetAmount(s,f,k),this._feeCheck(x,y)&&_.addAssetAmount(y,k,x));const E=this.getMinimumSpendable(_,w,void 0,void 0,!0);if("undefined"!==typeof E)throw E;O=_.getInputs(),D=_.getChangeOutputs(),A=_.getOutputs();const C=new a.SECPOwnerOutput(I,g,m),P=new b.AddValidatorTx(t,e,D,O,T,u,h,c,f,A,new a.ParseableOutput(C),B);return new l.UnsignedTx(P)},this.buildCreateSubnetTx=(t=p.DefaultNetworkID,e,s,r,i,n,u,h,c,f=d.UnixNow())=>{const g=new o.default(0);let m=[],I=[];if(this._feeCheck(u,h)){const t=new S(s,s,r);t.addAssetAmount(h,g,u);const e=this.getMinimumSpendable(t,f,void 0,void 0);if("undefined"!==typeof e)throw e;m=t.getInputs(),I=t.getAllOutputs()}const b=new o.default(0),x=new B.CreateSubnetTx(t,e,I,m,c,new a.SECPOwnerOutput(i,b,n));return new l.UnsignedTx(x)}}deserialize(t,e="hex"){super.deserialize(t,e);let s={};for(let i in t["utxos"]){let r=T.decoder(i,e,"base58","base58");s[r]=new w,s[r].deserialize(t["utxos"][i],e)}let r={};for(let i in t["addressUTXOs"]){let s=T.decoder(i,e,"cb58","hex"),n={};for(let r in t["addressUTXOs"][i]){let s=T.decoder(r,e,"base58","base58");n[s]=T.decoder(t["addressUTXOs"][i][r],e,"decimalString","BN")}r[s]=n}this.utxos=s,this.addressUTXOs=r}parseUTXO(t){const e=new w;if("string"===typeof t)e.fromBuffer(y.cb58Decode(t));else{if(!(t instanceof h.StandardUTXO))throw new Error("Error - UTXO.parseUTXO: utxo parameter is not a UTXO or string: "+t);e.fromBuffer(t.toBuffer())}return e}create(...t){return new O}clone(){const t=this.create(),e=this.getAllUTXOs();return t.addArray(e),t}_feeCheck(t,e){return"undefined"!==typeof t&&"undefined"!==typeof e&&t.gt(new o.default(0))&&e instanceof i.Buffer}}e.UTXOSet=O},"286d":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NBytes=void 0;const i=r(s("b8ec")),n=s("c054"),o=i.default.getInstance(),a=n.Serialization.getInstance();class u extends n.Serializable{constructor(){super(...arguments),this._typeName="NBytes",this._typeID=void 0,this.getSize=()=>this.bsize}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{bsize:a.encoder(this.bsize,t,"number","decimalString",4),bytes:a.encoder(this.bytes,t,"Buffer","hex",this.bsize)})}deserialize(t,e="hex"){super.deserialize(t,e),this.bsize=a.decoder(t["bsize"],e,"decimalString","number",4),this.bytes=a.decoder(t["bytes"],e,"hex","Buffer",this.bsize)}fromString(t){try{this.fromBuffer(o.b58ToBuffer(t))}catch(e){const t="Error - NBytes.fromString: "+e;throw new Error(t)}return this.bsize}fromBuffer(t,e=0){try{if(t.length-e<this.bsize)throw new Error(`Buffer length must be ${this.bsize} bytes. Only have ${t.length-e} remaining in buffer.`);this.bytes=o.copyFrom(t,e,e+this.bsize)}catch(s){const t="Error - NBytes.fromBuffer: "+s;throw new Error(t)}return e+this.bsize}toBuffer(){return this.bytes}toString(){return o.bufferToB58(this.toBuffer())}}e.NBytes=u},"350d":function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)"default"!==s&&Object.hasOwnProperty.call(t,s)&&r(e,t,s);return i(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SECP256k1KeyChain=e.SECP256k1KeyPair=void 0;const a=s("1c35"),u=n(s("3337")),d=o(s("98e6")),h=o(s("b8ec")),c=s("5e96"),l=u.ec,f=new l("secp256k1"),p=f.curve,g=p.n.constructor,m=h.default.getInstance();class I extends c.StandardKeyPair{constructor(){super(),this._sigFromSigBuffer=t=>{const e=new g(m.copyFrom(t,0,32)),s=new g(m.copyFrom(t,32,64)),r=m.copyFrom(t,64,65).readUIntBE(0,1),i={r:e,s:s,recoveryParam:r};return i},this.generateKey=()=>{this.keypair=f.genKeyPair(),this.privk=a.Buffer.from(this.keypair.getPrivate("hex").padStart(64,"0"),"hex"),this.pubk=a.Buffer.from(this.keypair.getPublic(!0,"hex").padStart(66,"0"),"hex")},this.importKey=t=>(this.keypair=f.keyFromPrivate(t.toString("hex"),"hex"),this.privk=a.Buffer.from(this.keypair.getPrivate("hex").padStart(64,"0"),"hex"),this.pubk=a.Buffer.from(this.keypair.getPublic(!0,"hex").padStart(66,"0"),"hex"),!0),this.getAddress=()=>this.addressFromPublicKey(this.pubk),this.addressFromPublicKey=t=>{if(65===t.length&&(t=a.Buffer.from(f.keyFromPublic(t).getPublic(!0,"hex").padStart(66,"0"),"hex")),33===t.length){const e=a.Buffer.from(d.default("sha256").update(t).digest()),s=a.Buffer.from(d.default("rmd160").update(e).digest());return s}throw new Error("Unable to make address.")},this.getPrivateKeyString=()=>"PrivateKey-"+m.cb58Encode(this.privk),this.getPublicKeyString=()=>m.cb58Encode(this.pubk),this.sign=t=>{const e=this.keypair.sign(t,void 0,{canonical:!0}),s=a.Buffer.alloc(1);s.writeUInt8(e.recoveryParam,0);const r=a.Buffer.from(e.r.toArray("be",32)),i=a.Buffer.from(e.s.toArray("be",32)),n=a.Buffer.concat([r,i,s],65);return n},this.verify=(t,e)=>{const s=this._sigFromSigBuffer(e);return f.verify(t,s,this.keypair)},this.recover=(t,e)=>{const s=this._sigFromSigBuffer(e),r=f.recoverPubKey(t,s,s.recoveryParam);return a.Buffer.from(r.encodeCompressed())}}}e.SECP256k1KeyPair=I;class b extends c.StandardKeyChain{addKey(t){super.addKey(t)}}e.SECP256k1KeyChain=b},"40a5":function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s("8d71")),o=s("5af3"),a=s("a944");class u{constructor(t,e,s="http"){this.networkID=0,this.hrp="",this.auth=void 0,this.apis={},this.setAddress=(t,e,s="http")=>{this.ip=t,this.port=e,this.protocol=s,this.url=`${s}://${t}:${e}`},this.getProtocol=()=>this.protocol,this.getIP=()=>this.ip,this.getPort=()=>this.port,this.getURL=()=>this.url,this.getNetworkID=()=>this.networkID,this.setNetworkID=t=>{this.networkID=t,this.hrp=a.getPreferredHRP(this.networkID)},this.getHRP=()=>this.hrp,this.setHRP=t=>{this.hrp=t},this.setAuthToken=t=>{this.auth=t},this._setHeaders=t=>("string"===typeof this.auth&&(t["Authorization"]="Bearer "+this.auth),t),this.addAPI=(t,e,s,...r)=>{this.apis[t]="undefined"===typeof s?new e(this,void 0,...r):new e(this,s,...r)},this.api=t=>this.apis[t],this._request=(t,e,s,i,a={},u)=>r(this,void 0,void 0,(function*(){let r;return r=u||{baseURL:`${this.protocol}://${this.ip}:${this.port}`,responseType:"text"},r.url=e,r.method=t,r.headers=a,r.data=i,r.params=s,n.default.request(r).then(t=>{const e=new o.RequestResponseData;return e.data=t.data,e.headers=t.headers,e.request=t.request,e.status=t.status,e.statusText=t.statusText,e})})),this.get=(t,e,s={},r)=>this._request("GET",t,e,{},this._setHeaders(s),r),this.delete=(t,e,s={},r)=>this._request("DELETE",t,e,{},this._setHeaders(s),r),this.post=(t,e,s,r={},i)=>this._request("POST",t,e,s,this._setHeaders(r),i),this.put=(t,e,s,r={},i)=>this._request("PUT",t,e,s,this._setHeaders(r),i),this.patch=(t,e,s,r={},i)=>this._request("PATCH",t,e,s,this._setHeaders(r),i),this.setAddress(t,e,s)}}e.default=u},"49a5":function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.HealthAPI=void 0;const i=s("13ee");class n extends i.JRPCAPI{constructor(t,e="/ext/health"){super(t,e),this.getLiveness=()=>r(this,void 0,void 0,(function*(){return this.callMethod("health.getLiveness").then(t=>t.data.result)}))}}e.HealthAPI=n},"5ab8":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateSubnetTx=void 0;const r=s("1c35"),i=s("f14b"),n=s("e7e8"),o=s("353c"),a=s("1c53"),u=s("c054");u.Serialization.getInstance();class d extends i.BaseTx{constructor(t=o.DefaultNetworkID,e=r.Buffer.alloc(32,16),s,i,a,u){super(t,e,s,i,a),this._typeName="SECPCredential",this._typeID=n.PlatformVMConstants.CREATESUBNETTX,this.subnetOwners=void 0,this.getTxType=()=>this._typeID,this.subnetOwners=u}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{subnetOwners:this.subnetOwners.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.subnetOwners=new a.SECPOwnerOutput,this.subnetOwners.deserialize(t["subnetOwners"],e)}getSubnetOwners(){return this.subnetOwners}fromBuffer(t,e=0){return e=super.fromBuffer(t,e),this.subnetOwners=new a.SECPOwnerOutput,e=this.subnetOwners.fromBuffer(t,e),e}toBuffer(){if("undefined"===typeof this.subnetOwners||!(this.subnetOwners instanceof a.SECPOwnerOutput))throw new Error("CreateSubnetTx.toBuffer -- this.subnetOwners is not a SECPOwnerOutput");let t=r.Buffer.alloc(4);t.writeUInt32BE(this.subnetOwners.getOutputID(),0);let e=[super.toBuffer(),t,this.subnetOwners.toBuffer()];return r.Buffer.concat(e)}}e.CreateSubnetTx=d},"5af3":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.APIBase=e.RequestResponseData=void 0;const i=r(s("b8ec")),n=r(s("96cf8"));i.default.getInstance();class o{}e.RequestResponseData=o;class a{constructor(t,e){this.setBaseURL=t=>{if(this.db&&this.baseurl!==t){const e=this.db.getAll();this.db.clearAll(),this.baseurl=t,this.db=n.default.getNamespace(t),this.db.setAll(e,!0)}else this.baseurl=t,this.db=n.default.getNamespace(t)},this.getBaseURL=()=>this.baseurl,this.getDB=()=>this.db,this.core=t,this.setBaseURL(e)}}e.APIBase=a},"5e96":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyChain=e.StandardKeyPair=void 0;const r=s("1c35");class i{constructor(){this.getPrivateKey=()=>this.privk,this.getPublicKey=()=>this.pubk}}e.StandardKeyPair=i;class n{constructor(){this.keys={},this.getAddresses=()=>Object.values(this.keys).map(t=>t.getAddress()),this.getAddressStrings=()=>Object.values(this.keys).map(t=>t.getAddressString()),this.removeKey=t=>{let e;return e=t instanceof r.Buffer?t.toString("hex"):t.getAddress().toString("hex"),e in this.keys&&(delete this.keys[e],!0)},this.hasKey=t=>t.toString("hex")in this.keys,this.getKey=t=>this.keys[t.toString("hex")]}addKey(t){this.keys[t.getAddress().toString("hex")]=t}}e.StandardKeyChain=n},"64bb":function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||e.hasOwnProperty(s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("1528"),e)},"67f8":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardAmountInput=e.StandardTransferableInput=e.StandardParseableInput=e.Input=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("9cc9")),a=s("ec51"),u=s("c054"),d=n.default.getInstance(),h=u.Serialization.getInstance();class c extends u.Serializable{constructor(){super(...arguments),this._typeName="Input",this._typeID=void 0,this.sigCount=i.Buffer.alloc(4),this.sigIdxs=[],this.getSigIdxs=()=>this.sigIdxs,this.addSignatureIdx=(t,e)=>{const s=new a.SigIdx,r=i.Buffer.alloc(4);r.writeUInt32BE(t,0),s.fromBuffer(r),s.setSource(e),this.sigIdxs.push(s),this.sigCount.writeUInt32BE(this.sigIdxs.length,0)}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{sigIdxs:this.sigIdxs.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.sigIdxs=t["sigIdxs"].map(t=>{let s=new a.SigIdx;return s.deserialize(t,e),s}),this.sigCount.writeUInt32BE(this.sigIdxs.length,0)}fromBuffer(t,e=0){this.sigCount=d.copyFrom(t,e,e+4),e+=4;const s=this.sigCount.readUInt32BE(0);this.sigIdxs=[];for(let r=0;r<s;r++){const s=new a.SigIdx,r=d.copyFrom(t,e,e+4);s.fromBuffer(r),e+=4,this.sigIdxs.push(s)}return e}toBuffer(){this.sigCount.writeUInt32BE(this.sigIdxs.length,0);let t=this.sigCount.length;const e=[this.sigCount];for(let s=0;s<this.sigIdxs.length;s++){const r=this.sigIdxs[s].toBuffer();e.push(r),t+=r.length}return i.Buffer.concat(e,t)}toString(){return d.bufferToB58(this.toBuffer())}}e.Input=c,c.comparator=()=>(t,e)=>{const s=i.Buffer.alloc(4);s.writeUInt32BE(t.getInputID(),0);const r=t.toBuffer(),n=i.Buffer.alloc(4);n.writeUInt32BE(e.getInputID(),0);const o=e.toBuffer(),a=i.Buffer.concat([s,r],s.length+r.length),u=i.Buffer.concat([n,o],n.length+o.length);return i.Buffer.compare(a,u)};class l extends u.Serializable{constructor(t){super(),this._typeName="StandardParseableInput",this._typeID=void 0,this.getInput=()=>this.input,t instanceof c&&(this.input=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{input:this.input.serialize(t)})}toBuffer(){const t=this.input.toBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.input.getInputID(),0);const s=[e,t];return i.Buffer.concat(s,e.length+t.length)}}e.StandardParseableInput=l,l.comparator=()=>(t,e)=>{const s=t.toBuffer(),r=e.toBuffer();return i.Buffer.compare(s,r)};class f extends l{constructor(t,e,s,r){super(),this._typeName="StandardTransferableInput",this._typeID=void 0,this.txid=i.Buffer.alloc(32),this.outputidx=i.Buffer.alloc(4),this.assetid=i.Buffer.alloc(32),this.getTxID=()=>this.txid,this.getOutputIdx=()=>this.outputidx,this.getUTXOID=()=>d.bufferToB58(i.Buffer.concat([this.txid,this.outputidx])),this.getInput=()=>this.input,this.getAssetID=()=>this.assetid,"undefined"!==typeof t&&"undefined"!==typeof e&&"undefined"!==typeof s&&r instanceof c&&(this.input=r,this.txid=t,this.outputidx=e,this.assetid=s)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{txid:h.encoder(this.txid,t,"Buffer","cb58"),outputidx:h.encoder(this.outputidx,t,"Buffer","decimalString"),assetid:h.encoder(this.assetid,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.txid=h.decoder(t["txid"],e,"cb58","Buffer",32),this.outputidx=h.decoder(t["outputidx"],e,"decimalString","Buffer",4),this.assetid=h.decoder(t["assetid"],e,"cb58","Buffer",32)}toBuffer(){const t=super.toBuffer(),e=this.txid.length+this.outputidx.length+this.assetid.length+t.length,s=[this.txid,this.outputidx,this.assetid,t],r=i.Buffer.concat(s,e);return r}toString(){return d.bufferToB58(this.toBuffer())}}e.StandardTransferableInput=f;class p extends c{constructor(t){super(),this._typeName="StandardAmountInput",this._typeID=void 0,this.amount=i.Buffer.alloc(8),this.amountValue=new o.default(0),this.getAmount=()=>this.amountValue.clone(),t&&(this.amountValue=t.clone(),this.amount=d.fromBNToBuffer(t,8))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{amount:h.encoder(this.amount,t,"Buffer","decimalString",8)})}deserialize(t,e="hex"){super.deserialize(t,e),this.amount=h.decoder(t["amount"],e,"decimalString","Buffer",8),this.amountValue=d.fromBufferToBN(this.amount)}fromBuffer(t,e=0){return this.amount=d.copyFrom(t,e,e+8),this.amountValue=d.fromBufferToBN(this.amount),e+=8,super.fromBuffer(t,e)}toBuffer(){const t=super.toBuffer(),e=this.amount.length+t.length,s=[this.amount,t];return i.Buffer.concat(s,e)}}e.StandardAmountInput=p},"6ed7":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardAssetAmountDestination=e.AssetAmount=void 0;const i=s("1c35"),n=r(s("9cc9"));class o{constructor(t,e,s){this.assetID=i.Buffer.alloc(32),this.amount=new n.default(0),this.burn=new n.default(0),this.spent=new n.default(0),this.stakeableLockSpent=new n.default(0),this.change=new n.default(0),this.stakeableLockChange=!1,this.finished=!1,this.getAssetID=()=>this.assetID,this.getAssetIDString=()=>this.assetID.toString("hex"),this.getAmount=()=>this.amount,this.getSpent=()=>this.spent,this.getBurn=()=>this.burn,this.getChange=()=>this.change,this.getStakeableLockSpent=()=>this.stakeableLockSpent,this.getStakeableLockChange=()=>this.stakeableLockChange,this.isFinished=()=>this.finished,this.spendAmount=(t,e=!1)=>{if(this.finished)throw new Error("Error - AssetAmount.spendAmount: attempted to spend excess funds");this.spent=this.spent.add(t),e&&(this.stakeableLockSpent=this.stakeableLockSpent.add(t));const s=this.amount.add(this.burn);return this.spent.gte(s)&&(this.change=this.spent.sub(s),e&&(this.stakeableLockChange=!0),this.finished=!0),this.finished},this.assetID=t,this.amount="undefined"===typeof e?new n.default(0):e,this.burn="undefined"===typeof s?new n.default(0):s,this.spent=new n.default(0),this.stakeableLockSpent=new n.default(0),this.stakeableLockChange=!1}}e.AssetAmount=o;class a{constructor(t,e,s){this.amounts=[],this.destinations=[],this.senders=[],this.changeAddresses=[],this.amountkey={},this.inputs=[],this.outputs=[],this.change=[],this.addAssetAmount=(t,e,s)=>{let r=new o(t,e,s);this.amounts.push(r),this.amountkey[r.getAssetIDString()]=r},this.addInput=t=>{this.inputs.push(t)},this.addOutput=t=>{this.outputs.push(t)},this.addChange=t=>{this.change.push(t)},this.getAmounts=()=>this.amounts,this.getDestinations=()=>this.destinations,this.getSenders=()=>this.senders,this.getChangeAddresses=()=>this.changeAddresses,this.getAssetAmount=t=>this.amountkey[t],this.assetExists=t=>t in this.amountkey,this.getInputs=()=>this.inputs,this.getOutputs=()=>this.outputs,this.getChangeOutputs=()=>this.change,this.getAllOutputs=()=>this.outputs.concat(this.change),this.canComplete=()=>{for(let t=0;t<this.amounts.length;t++)if(!this.amounts[t].isFinished())return!1;return!0},this.destinations=t,this.changeAddresses=s,this.senders=e}}e.StandardAssetAmountDestination=a},"7ad6":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChain=e.KeyPair=void 0;const i=r(s("b8ec")),n=s("350d"),o=i.default.getInstance();class a extends n.SECP256k1KeyPair{constructor(t,e){super(),this.chainid="",this.hrp="",this.getAddressString=()=>{const t=this.addressFromPublicKey(this.pubk);return o.addressToString(this.hrp,this.chainid,t)},this.getChainID=()=>this.chainid,this.setChainID=t=>{this.chainid=t},this.getHRP=()=>this.hrp,this.setHRP=t=>{this.hrp=t},this.chainid=e,this.hrp=t,this.generateKey()}clone(){let t=new a(this.hrp,this.chainid);return t.importKey(o.copyFrom(this.getPrivateKey())),t}create(...t){return 2==t.length?new a(t[0],t[1]):new a(this.hrp,this.chainid)}}e.KeyPair=a;class u extends n.SECP256k1KeyChain{constructor(t,e){super(),this.hrp="",this.chainid="",this.makeKey=()=>{let t=new a(this.hrp,this.chainid);return this.addKey(t),t},this.addKey=t=>{t.setChainID(this.chainid),super.addKey(t)},this.importKey=t=>{let e,s=new a(this.hrp,this.chainid);return e="string"===typeof t?o.cb58Decode(t.split("-")[1]):o.copyFrom(t),s.importKey(e),s.getAddress().toString("hex")in this.keys||this.addKey(s),s},this.hrp=t,this.chainid=e}create(...t){return 2==t.length?new u(t[0],t[1]):new u(this.hrp,this.chainid)}clone(){const t=new u(this.hrp,this.chainid);for(let e in this.keys)t.addKey(this.keys[e].clone());return t}union(t){let e=t.clone();for(let s in this.keys)e.addKey(this.keys[s].clone());return e}}e.KeyChain=u},"872c":function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StakeableLockIn=e.SECPTransferInput=e.AmountInput=e.TransferableInput=e.ParseableInput=e.SelectInputClass=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("67f8"),u=s("c054"),d=n.default.getInstance(),h=u.Serialization.getInstance();e.SelectInputClass=(t,...e)=>{if(t===o.PlatformVMConstants.SECPINPUTID)return new p(...e);if(t===o.PlatformVMConstants.STAKEABLELOCKINID)return new g(...e);throw new Error("Error - SelectInputClass: unknown inputid "+t)};class c extends a.StandardParseableInput{constructor(){super(...arguments),this._typeName="ParseableInput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.input=e.SelectInputClass(t["input"]["_typeID"]),this.input.deserialize(t["input"],s)}fromBuffer(t,s=0){const r=d.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.input=e.SelectInputClass(r),this.input.fromBuffer(t,s)}}e.ParseableInput=c;class l extends a.StandardTransferableInput{constructor(){super(...arguments),this._typeName="TransferableInput",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.input=e.SelectInputClass(t["input"]["_typeID"]),this.input.deserialize(t["input"],s)}fromBuffer(t,s=0){this.txid=d.copyFrom(t,s,s+32),s+=32,this.outputidx=d.copyFrom(t,s,s+4),s+=4,this.assetid=d.copyFrom(t,s,s+o.PlatformVMConstants.ASSETIDLEN),s+=32;const r=d.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.input=e.SelectInputClass(r),this.input.fromBuffer(t,s)}}e.TransferableInput=l;class f extends a.StandardAmountInput{constructor(){super(...arguments),this._typeName="AmountInput",this._typeID=void 0}select(t,...s){return e.SelectInputClass(t,...s)}}e.AmountInput=f;class p extends f{constructor(){super(...arguments),this._typeName="SECPTransferInput",this._typeID=o.PlatformVMConstants.SECPINPUTID,this.getCredentialID=()=>o.PlatformVMConstants.SECPCREDENTIAL}getInputID(){return this._typeID}create(...t){return new p(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}}e.SECPTransferInput=p;class g extends f{constructor(t,e,s){super(t),this._typeName="StakeableLockIn",this._typeID=o.PlatformVMConstants.STAKEABLELOCKINID,this.getCredentialID=()=>o.PlatformVMConstants.SECPCREDENTIAL,"undefined"!==typeof e&&(this.stakeableLocktime=d.fromBNToBuffer(e,8)),"undefined"!==typeof s&&(this.transferableInput=s,this.synchronize())}serialize(t="hex"){let e=super.serialize(t),s=Object.assign(Object.assign({},e),{stakeableLocktime:h.encoder(this.stakeableLocktime,t,"Buffer","decimalString",8),transferableInput:this.transferableInput.serialize(t)});return delete s["sigIdxs"],delete s["sigCount"],delete s["amount"],s}deserialize(t,e="hex"){t["sigIdxs"]=[],t["sigCount"]="0",t["amount"]="98",super.deserialize(t,e),this.stakeableLocktime=h.decoder(t["stakeableLocktime"],e,"decimalString","Buffer",8),this.transferableInput=new c,this.transferableInput.deserialize(t["transferableInput"],e),this.synchronize()}synchronize(){let t=this.transferableInput.getInput();this.sigIdxs=t.getSigIdxs(),this.sigCount=i.Buffer.alloc(4),this.sigCount.writeUInt32BE(this.sigIdxs.length,0),this.amount=d.fromBNToBuffer(t.getAmount(),8),this.amountValue=t.getAmount()}getStakeableLocktime(){return d.fromBufferToBN(this.stakeableLocktime)}getTransferablInput(){return this.transferableInput}getInputID(){return this._typeID}fromBuffer(t,e=0){return this.stakeableLocktime=d.copyFrom(t,e,e+8),e+=8,this.transferableInput=new c,e=this.transferableInput.fromBuffer(t,e),this.synchronize(),e}toBuffer(){const t=this.transferableInput.toBuffer(),e=this.stakeableLocktime.length+t.length,s=[this.stakeableLocktime,t];return i.Buffer.concat(s,e)}create(...t){return new g(...t)}clone(){const t=this.create();return t.fromBuffer(this.toBuffer()),t}select(t,...s){return e.SelectInputClass(t,...s)}}e.StakeableLockIn=g},8918:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImportTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("872c"),u=s("f022"),d=s("ec51"),h=s("f14b"),c=s("353c"),l=s("c054"),f=n.default.getInstance(),p=l.Serialization.getInstance();class g extends h.BaseTx{constructor(t=c.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n,u,d){if(super(t,e,s,r,n),this._typeName="ImportTx",this._typeID=o.PlatformVMConstants.IMPORTTX,this.sourceChain=i.Buffer.alloc(32),this.numIns=i.Buffer.alloc(4),this.importIns=[],this.getTxType=()=>this._typeID,this.sourceChain=u,"undefined"!==typeof d&&Array.isArray(d)){for(let t=0;t<d.length;t++)if(!(d[t]instanceof a.TransferableInput))throw new Error("Error - ImportTx.constructor: invalid TransferableInput in array parameter 'importIns'");this.importIns=d}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{sourceChain:p.encoder(this.sourceChain,t,"Buffer","cb58"),importIns:this.importIns.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.sourceChain=p.decoder(t["sourceChain"],e,"cb58","Buffer",32),this.importIns=t["importIns"].map(t=>{let s=new a.TransferableInput;return s.deserialize(t,e),s}),this.numIns=i.Buffer.alloc(4),this.numIns.writeUInt32BE(this.importIns.length,0)}fromBuffer(t,e=0){e=super.fromBuffer(t,e),this.sourceChain=f.copyFrom(t,e,e+32),e+=32,this.numIns=f.copyFrom(t,e,e+4),e+=4;const s=this.numIns.readUInt32BE(0);for(let r=0;r<s;r++){const s=new a.TransferableInput;e=s.fromBuffer(t,e),this.importIns.push(s)}return e}toBuffer(){if("undefined"===typeof this.sourceChain)throw new Error("ImportTx.toBuffer -- this.sourceChain is undefined");this.numIns.writeUInt32BE(this.importIns.length,0);let t=[super.toBuffer(),this.sourceChain,this.numIns];this.importIns=this.importIns.sort(a.TransferableInput.comparator());for(let e=0;e<this.importIns.length;e++)t.push(this.importIns[e].toBuffer());return i.Buffer.concat(t)}getImportInputs(){return this.importIns}sign(t,e){const s=super.sign(t,e);for(let r=0;r<this.importIns.length;r++){const i=u.SelectCredentialClass(this.importIns[r].getInput().getCredentialID()),n=this.importIns[r].getInput().getSigIdxs();for(let s=0;s<n.length;s++){const r=e.getKey(n[s].getSource()),o=r.sign(t),a=new d.Signature;a.fromBuffer(o),i.addSignature(a)}s.push(i)}return s}clone(){let t=new g;return t.fromBuffer(this.toBuffer()),t}create(...t){return new g(...t)}}e.ImportTx=g},9206:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||e.hasOwnProperty(s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("5af3"),e),i(s("6ed7"),e),i(s("ec51"),e),i(s("d504"),e),i(s("67f8"),e),i(s("cc9e"),e),i(s("13ee"),e),i(s("5e96"),e),i(s("286d"),e),i(s("2555"),e),i(s("f331"),e),i(s("350d"),e),i(s("ebf0"),e),i(s("c09e"),e)},ac14:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||e.hasOwnProperty(s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("49a5"),e)},c09e:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardUTXOSet=e.StandardUTXO=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("9cc9")),a=s("2555"),u=s("a944"),d=s("c054"),h=n.default.getInstance(),c=d.Serialization.getInstance();class l extends d.Serializable{constructor(t=0,e,s,r,n){super(),this._typeName="StandardUTXO",this._typeID=void 0,this.codecid=i.Buffer.alloc(2),this.txid=i.Buffer.alloc(32),this.outputidx=i.Buffer.alloc(4),this.assetid=i.Buffer.alloc(32),this.output=void 0,this.getCodecID=()=>this.codecid.readUInt8(0),this.getCodecIDBuffer=()=>this.codecid,this.getTxID=()=>this.txid,this.getOutputIdx=()=>this.outputidx,this.getAssetID=()=>this.assetid,this.getUTXOID=()=>h.bufferToB58(i.Buffer.concat([this.getTxID(),this.getOutputIdx()])),this.getOutput=()=>this.output,"undefined"!==typeof t&&this.codecid.writeUInt8(t,0),"undefined"!==typeof e&&(this.txid=e),"number"===typeof s?this.outputidx.writeUInt32BE(s,0):s instanceof i.Buffer&&(this.outputidx=s),"undefined"!==typeof r&&(this.assetid=r),"undefined"!==typeof n&&(this.output=n)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{codecid:c.encoder(this.codecid,t,"Buffer","decimalString"),txid:c.encoder(this.txid,t,"Buffer","cb58"),outputidx:c.encoder(this.outputidx,t,"Buffer","decimalString"),assetid:c.encoder(this.assetid,t,"Buffer","cb58"),output:this.output.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.codecid=c.decoder(t["codecid"],e,"decimalString","Buffer",2),this.txid=c.decoder(t["txid"],e,"cb58","Buffer",32),this.outputidx=c.decoder(t["outputidx"],e,"decimalString","Buffer",4),this.assetid=c.decoder(t["assetid"],e,"cb58","Buffer",32)}toBuffer(){const t=this.output.toBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.output.getOutputID(),0);const s=[this.codecid,this.txid,this.outputidx,this.assetid,e,t];return i.Buffer.concat(s,this.codecid.length+this.txid.length+this.outputidx.length+this.assetid.length+e.length+t.length)}}e.StandardUTXO=l;class f extends d.Serializable{constructor(){super(...arguments),this._typeName="StandardUTXOSet",this._typeID=void 0,this.utxos={},this.addressUTXOs={},this.includes=t=>{let e=void 0,s=void 0;try{e=this.parseUTXO(t),s=e.getUTXOID()}catch(r){return r instanceof Error?console.log(r.message):console.log(r),!1}return s in this.utxos},this.remove=t=>{let e=void 0;try{e=this.parseUTXO(t)}catch(i){return void(i instanceof Error?console.log(i.message):console.log(i))}const s=e.getUTXOID();if(!(s in this.utxos))return;delete this.utxos[s];const r=Object.keys(this.addressUTXOs);for(let n=0;n<r.length;n++)s in this.addressUTXOs[r[n]]&&delete this.addressUTXOs[r[n]][s];return e},this.removeArray=t=>{const e=[];for(let s=0;s<t.length;s++){const r=this.remove(t[s]);"undefined"!==typeof r&&e.push(r)}return e},this.getUTXO=t=>this.utxos[t],this.getAllUTXOs=t=>{let e=[];if("undefined"!==typeof t&&Array.isArray(t))for(let s=0;s<t.length;s++)t[s]in this.utxos&&!(t[s]in e)&&e.push(this.utxos[t[s]]);else e=Object.values(this.utxos);return e},this.getAllUTXOStrings=t=>{const e=[],s=Object.keys(this.utxos);if("undefined"!==typeof t&&Array.isArray(t))for(let r=0;r<t.length;r++)t[r]in this.utxos&&e.push(this.utxos[t[r]].toString());else for(const r of s)e.push(this.utxos[r].toString());return e},this.getUTXOIDs=(t,e=!0)=>{if("undefined"!==typeof t){const s=[],r=u.UnixNow();for(let i=0;i<t.length;i++)if(t[i].toString("hex")in this.addressUTXOs){const n=Object.entries(this.addressUTXOs[t[i].toString("hex")]);for(const[t,i]of n)(-1===s.indexOf(t)&&e&&i.lte(r)||!e)&&s.push(t)}return s}return Object.keys(this.utxos)},this.getAddresses=()=>Object.keys(this.addressUTXOs).map(t=>i.Buffer.from(t,"hex")),this.getBalance=(t,e,s)=>{const r=this.getUTXOIDs(t),i=this.getAllUTXOs(r);let n,u=new o.default(0);n="string"===typeof e?h.cb58Decode(e):e;for(let o=0;o<i.length;o++)i[o].getOutput()instanceof a.StandardAmountOutput&&i[o].getAssetID().toString("hex")===n.toString("hex")&&i[o].getOutput().meetsThreshold(t,s)&&(u=u.add(i[o].getOutput().getAmount()));return u},this.getAssetIDs=t=>{const e=new Set;let s=[];s="undefined"!==typeof t?this.getUTXOIDs(t):this.getUTXOIDs();for(let r=0;r<s.length;r++)s[r]in this.utxos&&!(s[r]in e)&&e.add(this.utxos[s[r]].getAssetID());return[...e]},this.merge=(t,e)=>{const s=this.create(),r=this.getAllUTXOs(e),i=t.getAllUTXOs(e),n=t=>{s.add(t)};return r.forEach(n),i.forEach(n),s},this.intersection=t=>{const e=this.getUTXOIDs(),s=t.getUTXOIDs(),r=e.filter(t=>s.includes(t));return this.merge(t,r)},this.difference=t=>{const e=this.getUTXOIDs(),s=t.getUTXOIDs(),r=e.filter(t=>!s.includes(t));return this.merge(t,r)},this.symDifference=t=>{const e=this.getUTXOIDs(),s=t.getUTXOIDs(),r=e.filter(t=>!s.includes(t)).concat(s.filter(t=>!e.includes(t)));return this.merge(t,r)},this.union=t=>this.merge(t),this.mergeByRule=(t,e)=>{let s;switch(e){case"intersection":return this.intersection(t);case"differenceSelf":return this.difference(t);case"differenceNew":return t.difference(this);case"symDifference":return this.symDifference(t);case"union":return this.union(t);case"unionMinusNew":return s=this.union(t),s.difference(t);case"unionMinusSelf":return s=this.union(t),s.difference(this);default:throw new Error("Error - StandardUTXOSet.mergeByRule: bad MergeRule - "+e)}}}serialize(t="hex"){let e=super.serialize(t),s={};for(let i in this.utxos){let e=c.encoder(i,t,"base58","base58");s[e]=this.utxos[i].serialize(t)}let r={};for(let i in this.addressUTXOs){let e=c.encoder(i,t,"hex","cb58"),s={};for(let r in this.addressUTXOs[i]){let e=c.encoder(r,t,"base58","base58");s[e]=c.encoder(this.addressUTXOs[i][r],t,"BN","decimalString")}r[e]=s}return Object.assign(Object.assign({},e),{utxos:s,addressUTXOs:r})}add(t,e=!1){let s=void 0;try{s=this.parseUTXO(t)}catch(i){return void(i instanceof Error?console.log(i.message):console.log(i))}const r=s.getUTXOID();if(!(r in this.utxos)||!0===e){this.utxos[r]=s;const t=s.getOutput().getAddresses(),e=s.getOutput().getLocktime();for(let s=0;s<t.length;s++){const i=t[s].toString("hex");i in this.addressUTXOs||(this.addressUTXOs[i]={}),this.addressUTXOs[i][r]=e}return s}}addArray(t,e=!1){const s=[];for(let r=0;r<t.length;r++){let i=this.add(t[r],e);"undefined"!==typeof i&&s.push(i)}return s}filter(t,e){let s=this.clone(),r=this.getAllUTXOs();for(let i=0;i<r.length;i++)!1===e(r[i],...t)&&s.remove(r[i]);return s}}e.StandardUTXOSet=f},c39f:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||e.hasOwnProperty(s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("fbcd"),e)},c59b:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||e.hasOwnProperty(s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("d4e4"),e),i(s("f14b"),e),i(s("e7e8"),e),i(s("5ab8"),e),i(s("f022"),e),i(s("d7cd"),e),i(s("8918"),e),i(s("872c"),e),i(s("7ad6"),e),i(s("1c53"),e),i(s("e549"),e),i(s("25d6"),e),i(s("0b32"),e)},cc9e:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},d064:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MetricsAPI=void 0;const i=s("f331");class n extends i.RESTAPI{constructor(t,e="/ext/metrics"){super(t,e),this.axConf=()=>({baseURL:`${this.core.getProtocol()}://${this.core.getIP()}:${this.core.getPort()}`,responseType:"text"}),this.getMetrics=()=>r(this,void 0,void 0,(function*(){return this.post("").then(t=>t.data)}))}}e.MetricsAPI=n},d4e4:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformVMAPI=void 0;const n=s("1c35"),o=i(s("9cc9")),a=s("13ee"),u=i(s("b8ec")),d=s("7ad6"),h=s("353c"),c=s("e7e8"),l=s("e549"),f=s("5ef4"),p=s("a944"),g=s("25d6"),m=u.default.getInstance();class I extends a.JRPCAPI{constructor(t,e="/ext/bc/P"){super(t,e),this.keychain=new d.KeyChain("",""),this.blockchainID=h.PlatformChainID,this.blockchainAlias=void 0,this.AVAXAssetID=void 0,this.txFee=void 0,this.creationTxFee=void 0,this.minValidatorStake=void 0,this.minDelegatorStake=void 0,this.getBlockchainAlias=()=>{if("undefined"===typeof this.blockchainAlias){const t=this.core.getNetworkID();return t in h.Defaults.network&&this.blockchainID in h.Defaults.network[t]?(this.blockchainAlias=h.Defaults.network[t][this.blockchainID].alias,this.blockchainAlias):void 0}return this.blockchainAlias},this.setBlockchainAlias=t=>{this.blockchainAlias=t},this.getBlockchainID=()=>this.blockchainID,this.refreshBlockchainID=t=>{const e=this.core.getNetworkID();return"undefined"===typeof t&&"undefined"!==typeof h.Defaults.network[e]?(this.blockchainID=h.PlatformChainID,!0):"string"===typeof t&&(this.blockchainID=t,!0)},this.parseAddress=t=>{const e=this.getBlockchainAlias(),s=this.getBlockchainID();return m.parseAddress(t,s,e,c.PlatformVMConstants.ADDRESSLENGTH)},this.addressFromBuffer=t=>{const e=this.getBlockchainAlias()?this.getBlockchainAlias():this.getBlockchainID();return m.addressToString(this.core.getHRP(),e,t)},this.getAVAXAssetID=(t=!1)=>r(this,void 0,void 0,(function*(){if("undefined"===typeof this.AVAXAssetID||t){const t=yield this.getStakingAssetID();this.AVAXAssetID=m.cb58Decode(t)}return this.AVAXAssetID})),this.setAVAXAssetID=t=>{"string"===typeof t&&(t=m.cb58Decode(t)),this.AVAXAssetID=t},this.getDefaultTxFee=()=>this.core.getNetworkID()in h.Defaults.network?new o.default(h.Defaults.network[this.core.getNetworkID()]["P"]["txFee"]):new o.default(0),this.getTxFee=()=>("undefined"===typeof this.txFee&&(this.txFee=this.getDefaultTxFee()),this.txFee),this.setTxFee=t=>{this.txFee=t},this.getDefaultCreationTxFee=()=>this.core.getNetworkID()in h.Defaults.network?new o.default(h.Defaults.network[this.core.getNetworkID()]["P"]["creationTxFee"]):new o.default(0),this.getCreationTxFee=()=>("undefined"===typeof this.creationTxFee&&(this.creationTxFee=this.getDefaultCreationTxFee()),this.creationTxFee),this.setCreationTxFee=t=>{this.creationTxFee=t},this.keyChain=()=>this.keychain,this.newKeyChain=()=>{const t=this.getBlockchainAlias();return this.keychain=t?new d.KeyChain(this.core.getHRP(),t):new d.KeyChain(this.core.getHRP(),this.blockchainID),this.keychain},this.checkGooseEgg=(t,e=new o.default(0))=>r(this,void 0,void 0,(function*(){const s=yield this.getAVAXAssetID();let r=e.gt(new o.default(0))?e:t.getOutputTotal(s);const i=t.getBurn(s);return!(!i.lte(h.ONEAVAX.mul(new o.default(10)))&&!i.lte(r))})),this.getStakingAssetID=()=>r(this,void 0,void 0,(function*(){const t={};return this.callMethod("platform.getStakingAssetID",t).then(t=>t.data.result.assetID)})),this.createBlockchain=(t,e,s,i,n,o,a)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,fxIDs:n,vmID:i,name:o,genesisData:a};return"string"===typeof s?r.subnetID=s:"undefined"!==typeof s&&(r.subnetID=m.cb58Encode(s)),this.callMethod("platform.createBlockchain",r).then(t=>t.data.result.txID)})),this.getBlockchainStatus=t=>r(this,void 0,void 0,(function*(){const e={blockchainID:t};return this.callMethod("platform.getBlockchainStatus",e).then(t=>t.data.result.status)})),this.createAddress=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e};return this.callMethod("platform.createAddress",s).then(t=>t.data.result.address)})),this.getBalance=t=>r(this,void 0,void 0,(function*(){if("undefined"===typeof this.parseAddress(t))throw new Error("Error - PlatformVMAPI.getBalance: Invalid address format "+t);const e={address:t};return this.callMethod("platform.getBalance",e).then(t=>t.data.result)})),this.listAddresses=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e};return this.callMethod("platform.listAddresses",s).then(t=>t.data.result.addresses)})),this.getCurrentValidators=t=>r(this,void 0,void 0,(function*(){const e={};return"string"===typeof t?e.subnetID=t:"undefined"!==typeof t&&(e.subnetID=m.cb58Encode(t)),this.callMethod("platform.getCurrentValidators",e).then(t=>t.data.result)})),this.getPendingValidators=t=>r(this,void 0,void 0,(function*(){const e={};return"string"===typeof t?e.subnetID=t:"undefined"!==typeof t&&(e.subnetID=m.cb58Encode(t)),this.callMethod("platform.getPendingValidators",e).then(t=>t.data.result)})),this.sampleValidators=(t,e)=>r(this,void 0,void 0,(function*(){const s={size:t.toString()};return"string"===typeof e?s.subnetID=e:"undefined"!==typeof e&&(s.subnetID=m.cb58Encode(e)),this.callMethod("platform.sampleValidators",s).then(t=>t.data.result.validators)})),this.addValidator=(t,e,s,i,n,o,a,u)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,nodeID:s,startTime:i.getTime()/1e3,endTime:n.getTime()/1e3,stakeAmount:o.toString(10),rewardAddress:a};return"undefined"!==typeof u&&(r.delegationFeeRate=u.toString(10)),this.callMethod("platform.addValidator",r).then(t=>t.data.result.txID)})),this.addSubnetValidator=(t,e,s,i,n,o,a)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,nodeID:s,startTime:n.getTime()/1e3,endTime:o.getTime()/1e3,weight:a};return"string"===typeof i?r.subnetID=i:"undefined"!==typeof i&&(r.subnetID=m.cb58Encode(i)),this.callMethod("platform.addSubnetValidator",r).then(t=>t.data.result.txID)})),this.addDelegator=(t,e,s,i,n,o,a)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,nodeID:s,startTime:i.getTime()/1e3,endTime:n.getTime()/1e3,stakeAmount:o.toString(10),rewardAddress:a};return this.callMethod("platform.addDelegator",r).then(t=>t.data.result.txID)})),this.createSubnet=(t,e,s,i)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,controlKeys:s,threshold:i};return this.callMethod("platform.createSubnet",r).then(t=>t.data.result.txID)})),this.validatedBy=t=>r(this,void 0,void 0,(function*(){const e={blockchainID:t};return this.callMethod("platform.validatedBy",e).then(t=>t.data.result.subnetID)})),this.validates=t=>r(this,void 0,void 0,(function*(){const e={subnetID:t};return"string"===typeof t?e.subnetID=t:"undefined"!==typeof t&&(e.subnetID=m.cb58Encode(t)),this.callMethod("platform.validates",e).then(t=>t.data.result.blockchainIDs)})),this.getBlockchains=()=>r(this,void 0,void 0,(function*(){const t={};return this.callMethod("platform.getBlockchains",t).then(t=>t.data.result.blockchains)})),this.exportAVAX=(t,e,s,i)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,to:i,amount:s.toString(10)};return this.callMethod("platform.exportAVAX",r).then(t=>t.data.result.txID)})),this.importAVAX=(t,e,s,i)=>r(this,void 0,void 0,(function*(){const r={to:s,sourceChain:i,username:t,password:e};return this.callMethod("platform.importAVAX",r).then(t=>t.data.result.txID)})),this.issueTx=t=>r(this,void 0,void 0,(function*(){let e="";if("string"===typeof t)e=t;else if(t instanceof n.Buffer){const s=new l.Tx;s.fromBuffer(t),e=s.toString()}else{if(!(t instanceof l.Tx))throw new Error("Error - platform.issueTx: provided tx is not expected type of string, Buffer, or Tx");e=t.toString()}const s={tx:e.toString()};return this.callMethod("platform.issueTx",s).then(t=>t.data.result.txID)})),this.getCurrentSupply=()=>r(this,void 0,void 0,(function*(){const t={};return this.callMethod("platform.getCurrentSupply",t).then(t=>new o.default(t.data.result.supply,10))})),this.getHeight=()=>r(this,void 0,void 0,(function*(){const t={};return this.callMethod("platform.getHeight",t).then(t=>new o.default(t.data.result.height,10))})),this.getMinStake=(t=!1)=>r(this,void 0,void 0,(function*(){if(!0!==t&&"undefined"!==typeof this.minValidatorStake&&"undefined"!==typeof this.minDelegatorStake)return{minValidatorStake:this.minValidatorStake,minDelegatorStake:this.minDelegatorStake};const e={};return this.callMethod("platform.getMinStake",e).then(t=>(this.minValidatorStake=new o.default(t.data.result.minValidatorStake,10),this.minDelegatorStake=new o.default(t.data.result.minDelegatorStake,10),{minValidatorStake:this.minValidatorStake,minDelegatorStake:this.minDelegatorStake}))})),this.setMinStake=(t,e)=>{"undefined"!==typeof t&&(this.minValidatorStake=t),"undefined"!==typeof e&&(this.minDelegatorStake=e)},this.getStake=t=>r(this,void 0,void 0,(function*(){const e={addresses:t};return this.callMethod("platform.getStake",e).then(t=>new o.default(t.data.result.staked,10))})),this.getSubnets=t=>r(this,void 0,void 0,(function*(){const e={};return void 0!==typeof t&&(e.ids=t),this.callMethod("platform.getSubnets",e).then(t=>t.data.result.subnets)})),this.exportKey=(t,e,s)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,address:s};return this.callMethod("platform.exportKey",r).then(t=>t.data.result.privateKey)})),this.importKey=(t,e,s)=>r(this,void 0,void 0,(function*(){const r={username:t,password:e,privateKey:s};return this.callMethod("platform.importKey",r).then(t=>t.data.result.address)})),this.getTx=t=>r(this,void 0,void 0,(function*(){const e={txID:t};return this.callMethod("platform.getTx",e).then(t=>t.data.result.tx)})),this.getTxStatus=(t,e=!0)=>r(this,void 0,void 0,(function*(){const s={txID:t,includeReason:e};return this.callMethod("platform.getTxStatus",s).then(t=>t.data.result)})),this.getUTXOs=(t,e,s=0,i,n)=>r(this,void 0,void 0,(function*(){"string"===typeof t&&(t=[t]);const r={addresses:t,limit:s};return"undefined"!==typeof i&&i&&(r.startIndex=i),"undefined"!==typeof e&&(r.sourceChain=e),this.callMethod("platform.getUTXOs",r).then(t=>{const e=new g.UTXOSet;let s=t.data.result.utxos;if(n&&"object"===typeof n){if(this.db.has(n.getName())){const t=this.db.get(n.getName());if(Array.isArray(t)){e.addArray(s);const r=new g.UTXOSet;r.addArray(t),r.mergeByRule(e,n.getMergeRule()),s=r.getAllUTXOStrings()}}this.db.set(n.getName(),s,n.getOverwrite())}return e.addArray(s,!1),t.data.result.utxos=e,t.data.result})})),this.buildImportTx=(t,e,s,i,a,u,d,h=p.UnixNow(),c=new o.default(0),l=1)=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(i,"buildBaseTx").map(t=>m.stringToAddress(t)),o=this._cleanAddressArray(a,"buildBaseTx").map(t=>m.stringToAddress(t)),p=this._cleanAddressArray(u,"buildBaseTx").map(t=>m.stringToAddress(t));let g=void 0;if("undefined"===typeof s)throw new Error("Error - PlatformVMAPI.buildImportTx: Source ChainID is undefined.");if("string"===typeof s)g=s,s=m.cb58Decode(s);else if(!(s instanceof n.Buffer))throw g=m.cb58Encode(s),new Error("Error - PlatformVMAPI.buildImportTx: Invalid destinationChain type: "+typeof s);const I=yield(yield this.getUTXOs(e,g,0,void 0)).utxos,b=yield this.getAVAXAssetID();d instanceof f.PayloadBase&&(d=d.getPayload());const B=I.getAllUTXOs(),x=t.buildImportTx(this.core.getNetworkID(),m.cb58Decode(this.blockchainID),r,o,p,B,s,this.getTxFee(),b,d,h,c,l);if(!(yield this.checkGooseEgg(x)))throw new Error("Failed Goose Egg Check");return x})),this.buildExportTx=(t,e,s,i,a,u,d,h=p.UnixNow(),c=new o.default(0),l=1)=>r(this,void 0,void 0,(function*(){let r={};if(i.map(t=>{r[t.split("-")[0]]=!0}),1!==Object.keys(r).length)throw new Error("Error - PlatformVMAPI.buildExportTx: To addresses must have the same chainID prefix.");if("undefined"===typeof s)throw new Error("Error - PlatformVMAPI.buildExportTx: Destination ChainID is undefined.");if("string"===typeof s)s=m.cb58Decode(s);else if(!(s instanceof n.Buffer))throw new Error("Error - PlatformVMAPI.buildExportTx: Invalid destinationChain type: "+typeof s);if(32!==s.length)throw new Error("Error - PlatformVMAPI.buildExportTx: Destination ChainID must be 32 bytes in length.");let o=[];i.map(t=>{o.push(m.stringToAddress(t))});const p=this._cleanAddressArray(a,"buildExportTx").map(t=>m.stringToAddress(t)),g=this._cleanAddressArray(u,"buildExportTx").map(t=>m.stringToAddress(t));d instanceof f.PayloadBase&&(d=d.getPayload());const I=yield this.getAVAXAssetID(),b=t.buildExportTx(this.core.getNetworkID(),m.cb58Decode(this.blockchainID),e,I,o,p,g,s,this.getTxFee(),I,d,h,c,l);if(!(yield this.checkGooseEgg(b)))throw new Error("Failed Goose Egg Check");return b})),this.buildAddDelegatorTx=(t,e,s,i,n,a,u,d,h,c=new o.default(0),l=1,g,I=p.UnixNow())=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildAddDelegatorTx").map(t=>m.stringToAddress(t)),b=this._cleanAddressArray(s,"buildAddDelegatorTx").map(t=>m.stringToAddress(t)),B=this._cleanAddressArray(i,"buildAddDelegatorTx").map(t=>m.stringToAddress(t)),x=this._cleanAddressArray(h,"buildAddValidatorTx").map(t=>m.stringToAddress(t));g instanceof f.PayloadBase&&(g=g.getPayload());const y=(yield this.getMinStake())["minDelegatorStake"];if(d.lt(y))throw new Error("PlatformVMAPI.buildAddDelegatorTx -- stake amount must be at least "+y.toString(10));const T=yield this.getAVAXAssetID(),w=p.UnixNow();if(a.lt(w)||u.lte(a))throw new Error("PlatformVMAPI.buildAddDelegatorTx -- startTime must be in the future and endTime must come after startTime");const S=t.buildAddDelegatorTx(this.core.getNetworkID(),m.cb58Decode(this.blockchainID),T,r,b,B,p.NodeIDStringToBuffer(n),a,u,d,c,l,x,new o.default(0),T,g,I);if(!(yield this.checkGooseEgg(S)))throw new Error("Failed Goose Egg Check");return S})),this.buildAddValidatorTx=(t,e,s,i,n,a,u,d,h,c,l=new o.default(0),g=1,I,b=p.UnixNow())=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildAddValidatorTx").map(t=>m.stringToAddress(t)),B=this._cleanAddressArray(s,"buildAddValidatorTx").map(t=>m.stringToAddress(t)),x=this._cleanAddressArray(i,"buildAddValidatorTx").map(t=>m.stringToAddress(t)),y=this._cleanAddressArray(h,"buildAddValidatorTx").map(t=>m.stringToAddress(t));I instanceof f.PayloadBase&&(I=I.getPayload());const T=(yield this.getMinStake())["minValidatorStake"];if(d.lt(T))throw new Error("PlatformVMAPI.buildAddValidatorTx -- stake amount must be at least "+T.toString(10));if("number"!==typeof c||c>100||c<0)throw new Error("PlatformVMAPI.buildAddValidatorTx -- delegationFee must be a number between 0 and 100");const w=yield this.getAVAXAssetID(),S=p.UnixNow();if(a.lt(S)||u.lte(a))throw new Error("PlatformVMAPI.buildAddValidatorTx -- startTime must be in the future and endTime must come after startTime");const O=t.buildAddValidatorTx(this.core.getNetworkID(),m.cb58Decode(this.blockchainID),w,r,B,x,p.NodeIDStringToBuffer(n),a,u,d,l,g,y,c,new o.default(0),w,I,b);if(!(yield this.checkGooseEgg(O)))throw new Error("Failed Goose Egg Check");return O})),this.buildCreateSubnetTx=(t,e,s,i,n,o,a=p.UnixNow())=>r(this,void 0,void 0,(function*(){const r=this._cleanAddressArray(e,"buildCreateSubnetTx").map(t=>m.stringToAddress(t)),u=this._cleanAddressArray(s,"buildCreateSubnetTx").map(t=>m.stringToAddress(t)),d=this._cleanAddressArray(i,"buildCreateSubnetTx").map(t=>m.stringToAddress(t));o instanceof f.PayloadBase&&(o=o.getPayload());const h=yield this.getAVAXAssetID(),c=t.buildCreateSubnetTx(this.core.getNetworkID(),m.cb58Decode(this.blockchainID),r,u,d,n,this.getCreationTxFee(),h,o,a);if(!(yield this.checkGooseEgg(c,this.getCreationTxFee())))throw new Error("Failed Goose Egg Check");return c})),this.blockchainID=h.PlatformChainID;const s=t.getNetworkID();if(s in h.Defaults.network&&this.blockchainID in h.Defaults.network[s]){const{alias:t}=h.Defaults.network[s][this.blockchainID];this.keychain=new d.KeyChain(this.core.getHRP(),t)}else this.keychain=new d.KeyChain(this.core.getHRP(),this.blockchainID)}_cleanAddressArray(t,e){const s=[],r=this.getBlockchainAlias()?this.getBlockchainAlias():this.getBlockchainID();if(t&&t.length>0)for(let i=0;i<t.length;i++)if("string"===typeof t[i]){if("undefined"===typeof this.parseAddress(t[i]))throw new Error(`Error - PlatformVMAPI.${e}: Invalid address format ${t[i]}`);s.push(t[i])}else s.push(m.addressToString(this.core.getHRP(),r,t[i]));return s}}e.PlatformVMAPI=I},d504:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EVMStandardTx=e.EVMStandardUnsignedTx=e.EVMStandardBaseTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("9cc9")),a=s("67f8"),u=s("2555"),d=s("353c"),h=s("c054"),c=n.default.getInstance(),l=h.Serialization.getInstance();class f extends h.Serializable{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16)){super(),this._typeName="EVMStandardBaseTx",this._typeID=void 0,this.networkid=i.Buffer.alloc(4),this.blockchainid=i.Buffer.alloc(32),this.getNetworkID=()=>this.networkid.readUInt32BE(0),this.getBlockchainID=()=>this.blockchainid,this.networkid.writeUInt32BE(t,0),this.blockchainid=e}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{networkid:l.encoder(this.networkid,t,"Buffer","decimalString"),blockchainid:l.encoder(this.blockchainid,t,"Buffer","cb58")})}deserialize(t,e="hex"){super.deserialize(t,e),this.networkid=l.decoder(t["networkid"],e,"decimalString","Buffer",4),this.blockchainid=l.decoder(t["blockchainid"],e,"cb58","Buffer",32)}toBuffer(){let t=this.networkid.length+this.blockchainid.length;const e=[this.networkid,this.blockchainid],s=i.Buffer.concat(e,t);return s}toString(){return c.bufferToB58(this.toBuffer())}}e.EVMStandardBaseTx=f;class p extends h.Serializable{constructor(t,e=0){super(),this._typeName="StandardUnsignedTx",this._typeID=void 0,this.codecid=0,this.getCodecID=()=>this.codecid,this.getCodecIDBuffer=()=>{let t=i.Buffer.alloc(2);return t.writeUInt16BE(this.codecid,0),t},this.getInputTotal=t=>{const e=[],s=t.toString("hex");let r=new o.default(0);return e.forEach(t=>{if(t.getInput()instanceof a.StandardAmountInput&&s===t.getAssetID().toString("hex")){const e=t.getInput();r=r.add(e.getAmount())}}),r},this.getOutputTotal=t=>{const e=[],s=t.toString("hex");let r=new o.default(0);return e.forEach(t=>{if(t.getOutput()instanceof u.StandardAmountOutput&&s===t.getAssetID().toString("hex")){const e=t.getOutput();r=r.add(e.getAmount())}}),r},this.getBurn=t=>this.getInputTotal(t).sub(this.getOutputTotal(t)),this.codecid=e,this.transaction=t}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{codecid:l.encoder(this.codecid,t,"number","decimalString",2),transaction:this.transaction.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.codecid=l.decoder(t["codecid"],e,"decimalString","number")}toBuffer(){const t=this.getCodecIDBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.transaction.getTxType(),0);const s=this.transaction.toBuffer();return i.Buffer.concat([t,e,s],t.length+e.length+s.length)}}e.EVMStandardUnsignedTx=p;class g extends h.Serializable{constructor(t,e){super(),this._typeName="StandardTx",this._typeID=void 0,this.unsignedTx=void 0,this.credentials=[],this.getUnsignedTx=()=>this.unsignedTx,"undefined"!==typeof t&&(this.unsignedTx=t,"undefined"!==typeof e&&(this.credentials=e))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{unsignedTx:this.unsignedTx.serialize(t),credentials:this.credentials.map(e=>e.serialize(t))})}toBuffer(){const t=this.unsignedTx.toBuffer();let e=t.length;const s=i.Buffer.alloc(4);s.writeUInt32BE(this.credentials.length,0);const r=[t,s];e+=s.length,this.credentials.forEach(t=>{const s=i.Buffer.alloc(4);s.writeUInt32BE(t.getCredentialID(),0),r.push(s),e+=s.length;const n=t.toBuffer();e+=n.length,r.push(n)});const n=i.Buffer.concat(r,e);return n}fromString(t){return this.fromBuffer(c.cb58Decode(t))}toString(){return c.cb58Encode(this.toBuffer())}}e.EVMStandardTx=g},d7cd:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExportTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("1c53"),u=s("f14b"),d=s("353c"),h=r(s("9cc9")),c=s("c054"),l=n.default.getInstance(),f=c.Serialization.getInstance();class p extends u.BaseTx{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n,u,h){if(super(t,e,s,r,n),this._typeName="ExportTx",this._typeID=o.PlatformVMConstants.EXPORTTX,this.destinationChain=i.Buffer.alloc(32),this.numOuts=i.Buffer.alloc(4),this.exportOuts=[],this.getTxType=()=>o.PlatformVMConstants.EXPORTTX,this.destinationChain=u,"undefined"!==typeof h&&Array.isArray(h)){for(let t=0;t<h.length;t++)if(!(h[t]instanceof a.TransferableOutput))throw new Error("Error - ExportTx.constructor: invalid TransferableOutput in array parameter 'exportOuts'");this.exportOuts=h}}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{destinationChain:f.encoder(this.destinationChain,t,"Buffer","cb58"),exportOuts:this.exportOuts.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.destinationChain=f.decoder(t["destinationChain"],e,"cb58","Buffer",32),this.exportOuts=t["exportOuts"].map(t=>{let s=new a.TransferableOutput;return s.deserialize(t,e),s}),this.numOuts=i.Buffer.alloc(4),this.numOuts.writeUInt32BE(this.exportOuts.length,0)}getExportOutputs(){return this.exportOuts}getExportTotal(){let t=new h.default(0);for(let e=0;e<this.exportOuts.length;e++)t=t.add(this.exportOuts[e].getOutput().getAmount());return t}getTotalOuts(){return[...this.getOuts(),...this.getExportOutputs()]}fromBuffer(t,e=0){e=super.fromBuffer(t,e),this.destinationChain=l.copyFrom(t,e,e+32),e+=32,this.numOuts=l.copyFrom(t,e,e+4),e+=4;const s=this.numOuts.readUInt32BE(0);for(let r=0;r<s;r++){const s=new a.TransferableOutput;e=s.fromBuffer(t,e),this.exportOuts.push(s)}return e}toBuffer(){if("undefined"===typeof this.destinationChain)throw new Error("ExportTx.toBuffer -- this.destinationChain is undefined");this.numOuts.writeUInt32BE(this.exportOuts.length,0);let t=[super.toBuffer(),this.destinationChain,this.numOuts];this.exportOuts=this.exportOuts.sort(a.TransferableOutput.comparator());for(let e=0;e<this.exportOuts.length;e++)t.push(this.exportOuts[e].toBuffer());return i.Buffer.concat(t)}clone(){let t=new p;return t.fromBuffer(this.toBuffer()),t}create(...t){return new p(...t)}}e.ExportTx=p},e337:function(t,e,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),i=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||e.hasOwnProperty(s)||r(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(s("d064"),e)},e549:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tx=e.UnsignedTx=e.SelectTxClass=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("f022"),u=s("ebf0"),d=r(s("98e6")),h=s("f14b"),c=s("8918"),l=s("d7cd"),f=s("c054"),p=s("0b32"),g=s("5ab8"),m=n.default.getInstance();f.Serialization.getInstance();e.SelectTxClass=(t,...e)=>{if(t===o.PlatformVMConstants.BASETX)return new h.BaseTx(...e);if(t===o.PlatformVMConstants.IMPORTTX)return new c.ImportTx(...e);if(t===o.PlatformVMConstants.EXPORTTX)return new l.ExportTx(...e);if(t===o.PlatformVMConstants.ADDDELEGATORTX)return new p.AddDelegatorTx(...e);if(t===o.PlatformVMConstants.ADDVALIDATORTX)return new p.AddValidatorTx(...e);if(t===o.PlatformVMConstants.CREATESUBNETTX)return new g.CreateSubnetTx(...e);throw new Error("Error - SelectTxClass: unknown txtype "+t)};class I extends u.StandardUnsignedTx{constructor(){super(...arguments),this._typeName="UnsignedTx",this._typeID=void 0}deserialize(t,s="hex"){super.deserialize(t,s),this.transaction=e.SelectTxClass(t["transaction"]["_typeID"]),this.transaction.deserialize(t["transaction"],s)}getTransaction(){return this.transaction}fromBuffer(t,s=0){this.codecid=m.copyFrom(t,s,s+2).readUInt16BE(0),s+=2;const r=m.copyFrom(t,s,s+4).readUInt32BE(0);return s+=4,this.transaction=e.SelectTxClass(r),this.transaction.fromBuffer(t,s)}sign(t){const e=this.toBuffer(),s=i.Buffer.from(d.default("sha256").update(e).digest()),r=this.transaction.sign(s,t);return new b(this,r)}}e.UnsignedTx=I;class b extends u.StandardTx{constructor(){super(...arguments),this._typeName="Tx",this._typeID=void 0}deserialize(t,e="hex"){super.deserialize(t,e),this.unsignedTx=new I,this.unsignedTx.deserialize(t["unsignedTx"],e),this.credentials=[];for(let s=0;s<t["credentials"].length;s++){const r=a.SelectCredentialClass(t["credentials"][s]["_typeID"]);r.deserialize(t["credentials"][s],e),this.credentials.push(r)}}fromBuffer(t,e=0){this.unsignedTx=new I,e=this.unsignedTx.fromBuffer(t,e);const s=m.copyFrom(t,e,e+4).readUInt32BE(0);e+=4,this.credentials=[];for(let r=0;r<s;r++){const s=m.copyFrom(t,e,e+4).readUInt32BE(0);e+=4;const r=a.SelectCredentialClass(s);e=r.fromBuffer(t,e),this.credentials.push(r)}return e}}e.Tx=b},e7e8:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformVMConstants=void 0;class r{}e.PlatformVMConstants=r,r.LATESTCODEC=0,r.SECPFXID=0,r.SECPXFEROUTPUTID=7,r.SUBNETAUTHID=10,r.SECPOWNEROUTPUTID=11,r.STAKEABLELOCKOUTID=22,r.SECPINPUTID=5,r.STAKEABLELOCKINID=21,r.LOCKEDSTAKEABLES=[r.STAKEABLELOCKINID,r.STAKEABLELOCKOUTID],r.BASETX=0,r.ADDVALIDATORTX=12,r.ADDSUBNETVALIDATORTX=13,r.ADDDELEGATORTX=14,r.CREATECHAINTX=15,r.CREATESUBNETTX=16,r.IMPORTTX=17,r.EXPORTTX=18,r.ADVANCETIMETX=19,r.REWARDVALIDATORTX=20,r.SECPCREDENTIAL=9,r.ASSETIDLEN=32,r.BLOCKCHAINIDLEN=32,r.SYMBOLMAXLEN=4,r.ASSETNAMELEN=128,r.ADDRESSLENGTH=20},ebf0:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardTx=e.StandardUnsignedTx=e.StandardBaseTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=r(s("9cc9")),a=s("67f8"),u=s("2555"),d=s("353c"),h=s("c054"),c=n.default.getInstance(),l=h.Serialization.getInstance();class f extends h.Serializable{constructor(t=d.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n){super(),this._typeName="StandardBaseTx",this._typeID=void 0,this.networkid=i.Buffer.alloc(4),this.blockchainid=i.Buffer.alloc(32),this.numouts=i.Buffer.alloc(4),this.numins=i.Buffer.alloc(4),this.memo=i.Buffer.alloc(4),this.getNetworkID=()=>this.networkid.readUInt32BE(0),this.getBlockchainID=()=>this.blockchainid,this.getMemo=()=>this.memo,this.networkid.writeUInt32BE(t,0),this.blockchainid=e,"undefined"===typeof n?(this.memo=i.Buffer.alloc(4),this.memo.writeUInt32BE(0,0)):this.memo=n,"undefined"!==typeof r&&"undefined"!==typeof s&&(this.numouts.writeUInt32BE(s.length,0),this.outs=s.sort(u.StandardTransferableOutput.comparator()),this.numins.writeUInt32BE(r.length,0),this.ins=r.sort(a.StandardTransferableInput.comparator()))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{networkid:l.encoder(this.networkid,t,"Buffer","decimalString"),blockchainid:l.encoder(this.blockchainid,t,"Buffer","cb58"),outs:this.outs.map(e=>e.serialize(t)),ins:this.ins.map(e=>e.serialize(t)),memo:l.encoder(this.memo,t,"Buffer","hex")})}deserialize(t,e="hex"){super.deserialize(t,e),this.networkid=l.decoder(t["networkid"],e,"decimalString","Buffer",4),this.blockchainid=l.decoder(t["blockchainid"],e,"cb58","Buffer",32),this.memo=l.decoder(t["memo"],e,"hex","Buffer")}toBuffer(){this.outs.sort(u.StandardTransferableOutput.comparator()),this.ins.sort(a.StandardTransferableInput.comparator()),this.numouts.writeUInt32BE(this.outs.length,0),this.numins.writeUInt32BE(this.ins.length,0);let t=this.networkid.length+this.blockchainid.length+this.numouts.length;const e=[this.networkid,this.blockchainid,this.numouts];for(let i=0;i<this.outs.length;i++){const s=this.outs[i].toBuffer();e.push(s),t+=s.length}e.push(this.numins),t+=this.numins.length;for(let i=0;i<this.ins.length;i++){const s=this.ins[i].toBuffer();e.push(s),t+=s.length}let s=i.Buffer.alloc(4);s.writeUInt32BE(this.memo.length,0),e.push(s),t+=4,e.push(this.memo),t+=this.memo.length;const r=i.Buffer.concat(e,t);return r}toString(){return c.bufferToB58(this.toBuffer())}}e.StandardBaseTx=f;class p extends h.Serializable{constructor(t,e=0){super(),this._typeName="StandardUnsignedTx",this._typeID=void 0,this.codecid=0,this.getCodecID=()=>this.codecid,this.getCodecIDBuffer=()=>{let t=i.Buffer.alloc(2);return t.writeUInt16BE(this.codecid,0),t},this.getInputTotal=t=>{const e=this.getTransaction().getIns(),s=t.toString("hex");let r=new o.default(0);for(let i=0;i<e.length;i++)if(e[i].getInput()instanceof a.StandardAmountInput&&s===e[i].getAssetID().toString("hex")){const t=e[i].getInput();r=r.add(t.getAmount())}return r},this.getOutputTotal=t=>{const e=this.getTransaction().getTotalOuts(),s=t.toString("hex");let r=new o.default(0);for(let i=0;i<e.length;i++)if(e[i].getOutput()instanceof u.StandardAmountOutput&&s===e[i].getAssetID().toString("hex")){const t=e[i].getOutput();r=r.add(t.getAmount())}return r},this.getBurn=t=>this.getInputTotal(t).sub(this.getOutputTotal(t)),this.codecid=e,this.transaction=t}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{codecid:l.encoder(this.codecid,t,"number","decimalString",2),transaction:this.transaction.serialize(t)})}deserialize(t,e="hex"){super.deserialize(t,e),this.codecid=l.decoder(t["codecid"],e,"decimalString","number")}toBuffer(){const t=this.getCodecIDBuffer(),e=i.Buffer.alloc(4);e.writeUInt32BE(this.transaction.getTxType(),0);const s=this.transaction.toBuffer();return i.Buffer.concat([t,e,s],t.length+e.length+s.length)}}e.StandardUnsignedTx=p;class g extends h.Serializable{constructor(t,e){super(),this._typeName="StandardTx",this._typeID=void 0,this.unsignedTx=void 0,this.credentials=[],this.getUnsignedTx=()=>this.unsignedTx,"undefined"!==typeof t&&(this.unsignedTx=t,"undefined"!==typeof e&&(this.credentials=e))}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{unsignedTx:this.unsignedTx.serialize(t),credentials:this.credentials.map(e=>e.serialize(t))})}toBuffer(){const t=this.unsignedTx.toBuffer();let e=t.length;const s=i.Buffer.alloc(4);s.writeUInt32BE(this.credentials.length,0);const r=[t,s];e+=s.length;for(let o=0;o<this.credentials.length;o++){const t=i.Buffer.alloc(4);t.writeUInt32BE(this.credentials[o].getCredentialID(),0),r.push(t),e+=t.length;const s=this.credentials[o].toBuffer();e+=s.length,r.push(s)}const n=i.Buffer.concat(r,e);return n}fromString(t){return this.fromBuffer(c.cb58Decode(t))}toString(){return c.cb58Encode(this.toBuffer())}}e.StandardTx=g},ec51:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Credential=e.Signature=e.SigIdx=void 0;const i=s("286d"),n=s("1c35"),o=r(s("b8ec")),a=s("c054"),u=o.default.getInstance(),d=a.Serialization.getInstance();class h extends i.NBytes{constructor(){super(),this._typeName="SigIdx",this._typeID=void 0,this.source=n.Buffer.alloc(20),this.bytes=n.Buffer.alloc(4),this.bsize=4,this.setSource=t=>{this.source=t},this.getSource=()=>this.source}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{source:d.encoder(this.source,t,"Buffer","hex")})}deserialize(t,e="hex"){super.deserialize(t,e),this.source=d.decoder(t["source"],e,"hex","Buffer")}clone(){let t=new h;return t.fromBuffer(this.toBuffer()),t}create(...t){return new h}}e.SigIdx=h;class c extends i.NBytes{constructor(){super(),this._typeName="Signature",this._typeID=void 0,this.bytes=n.Buffer.alloc(65),this.bsize=65}clone(){let t=new c;return t.fromBuffer(this.toBuffer()),t}create(...t){return new c}}e.Signature=c;class l extends a.Serializable{constructor(t){super(),this._typeName="Credential",this._typeID=void 0,this.sigArray=[],this.addSignature=t=>(this.sigArray.push(t),this.sigArray.length-1),"undefined"!==typeof t&&(this.sigArray=t)}serialize(t="hex"){let e=super.serialize(t);return Object.assign(Object.assign({},e),{sigArray:this.sigArray.map(e=>e.serialize(t))})}deserialize(t,e="hex"){super.deserialize(t,e),this.sigArray=t["sigArray"].map(t=>{let s=new c;return s.deserialize(t,e),s})}fromBuffer(t,e=0){const s=u.copyFrom(t,e,e+4).readUInt32BE(0);e+=4,this.sigArray=[];for(let r=0;r<s;r++){const s=new c;e=s.fromBuffer(t,e),this.sigArray.push(s)}return e}toBuffer(){const t=n.Buffer.alloc(4);t.writeInt32BE(this.sigArray.length,0);const e=[t];let s=t.length;for(let r=0;r<this.sigArray.length;r++){const t=this.sigArray[r].toBuffer();s+=t.length,e.push(t)}return n.Buffer.concat(e,s)}}e.Credential=l},f022:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SECPCredential=e.SelectCredentialClass=void 0;const r=s("e7e8"),i=s("ec51");e.SelectCredentialClass=(t,...e)=>{if(t===r.PlatformVMConstants.SECPCREDENTIAL)return new n(...e);throw new Error("Error - SelectCredentialClass: unknown credid "+t)};class n extends i.Credential{constructor(){super(...arguments),this._typeName="SECPCredential",this._typeID=r.PlatformVMConstants.SECPCREDENTIAL}getCredentialID(){return this._typeID}clone(){let t=new n;return t.fromBuffer(this.toBuffer()),t}create(...t){return new n(...t)}select(t,...s){let r=e.SelectCredentialClass(t,...s);return r}}e.SECPCredential=n},f14b:function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTx=void 0;const i=s("1c35"),n=r(s("b8ec")),o=s("e7e8"),a=s("1c53"),u=s("872c"),d=s("f022"),h=s("ebf0"),c=s("ec51"),l=s("353c"),f=s("e549"),p=s("c054"),g=n.default.getInstance();p.Serialization.getInstance();class m extends h.StandardBaseTx{constructor(t=l.DefaultNetworkID,e=i.Buffer.alloc(32,16),s,r,n){super(t,e,s,r,n),this._typeName="BaseTx",this._typeID=o.PlatformVMConstants.CREATESUBNETTX,this.getTxType=()=>o.PlatformVMConstants.BASETX}deserialize(t,e="hex"){super.deserialize(t,e),this.outs=t["outs"].map(t=>{let s=new a.TransferableOutput;return s.deserialize(t,e),s}),this.ins=t["ins"].map(t=>{let s=new u.TransferableInput;return s.deserialize(t,e),s}),this.numouts=i.Buffer.alloc(4),this.numouts.writeUInt32BE(this.outs.length,0),this.numins=i.Buffer.alloc(4),this.numins.writeUInt32BE(this.ins.length,0)}getOuts(){return this.outs}getIns(){return this.ins}getTotalOuts(){return this.getOuts()}fromBuffer(t,e=0){this.networkid=g.copyFrom(t,e,e+4),e+=4,this.blockchainid=g.copyFrom(t,e,e+32),e+=32,this.numouts=g.copyFrom(t,e,e+4),e+=4;const s=this.numouts.readUInt32BE(0);this.outs=[];for(let n=0;n<s;n++){const s=new a.TransferableOutput;e=s.fromBuffer(t,e),this.outs.push(s)}this.numins=g.copyFrom(t,e,e+4),e+=4;const r=this.numins.readUInt32BE(0);this.ins=[];for(let n=0;n<r;n++){const s=new u.TransferableInput;e=s.fromBuffer(t,e),this.ins.push(s)}let i=g.copyFrom(t,e,e+4).readUInt32BE(0);return e+=4,this.memo=g.copyFrom(t,e,e+i),e+=i,e}sign(t,e){const s=[];for(let r=0;r<this.ins.length;r++){const i=d.SelectCredentialClass(this.ins[r].getInput().getCredentialID()),n=this.ins[r].getInput().getSigIdxs();for(let s=0;s<n.length;s++){const r=e.getKey(n[s].getSource()),o=r.sign(t),a=new c.Signature;a.fromBuffer(o),i.addSignature(a)}s.push(i)}return s}clone(){let t=new m;return t.fromBuffer(this.toBuffer()),t}create(...t){return new m(...t)}select(t,...e){let s=f.SelectTxClass(t,...e);return s}}e.BaseTx=m},f331:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RESTAPI=void 0;const n=i(s("b8ec")),o=s("5af3");n.default.getInstance();class a extends o.APIBase{constructor(t,e,s="application/json;charset=UTF-8",i){super(t,e),this.prepHeaders=(t,e)=>{const s={};return s["Content-Type"]=void 0!==t?t:this.contentType,void 0!==e?s["Accept"]=e:void 0!==this.acceptType&&(s["Accept"]=this.acceptType),s},this.axConf=()=>({baseURL:`${this.core.getProtocol()}://${this.core.getIP()}:${this.core.getPort()}`,responseType:"json"}),this.get=(t,e,s)=>r(this,void 0,void 0,(function*(){const r=t||this.baseurl;let i=this.prepHeaders(e,s);return this.core.get(r,{},i,this.axConf()).then(t=>t)})),this.post=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseurl,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n);return this.core.post(r,{},JSON.stringify(o),a,this.axConf()).then(t=>t)})),this.put=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseurl,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n);return this.core.put(r,{},JSON.stringify(o),a,this.axConf()).then(t=>t)})),this.delete=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseurl,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n);return this.core.delete(r,{},a,this.axConf()).then(t=>t)})),this.patch=(t,e,s,i,n)=>r(this,void 0,void 0,(function*(){const r=s||this.baseurl,o={};o.method=t,e&&(o.params=e);const a=this.prepHeaders(i,n);return this.core.patch(r,{},JSON.stringify(o),a,this.axConf()).then(t=>t)})),this.getContentType=()=>this.contentType,this.getAcceptType=()=>this.acceptType,this.contentType=s,this.acceptType=i}}e.RESTAPI=a},fbcd:function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,n){function o(t){try{u(r.next(t))}catch(e){n(e)}}function a(t){try{u(r["throw"](t))}catch(e){n(e)}}function u(t){t.done?s(t.value):i(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.KeystoreAPI=void 0;const i=s("13ee");class n extends i.JRPCAPI{constructor(t,e="/ext/keystore"){super(t,e),this.createUser=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e};return this.callMethod("keystore.createUser",s).then(t=>t.data.result.success)})),this.exportUser=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e};return this.callMethod("keystore.exportUser",s).then(t=>t.data.result.user)})),this.importUser=(t,e,s)=>r(this,void 0,void 0,(function*(){const r={username:t,user:e,password:s};return this.callMethod("keystore.importUser",r).then(t=>t.data.result.success)})),this.listUsers=()=>r(this,void 0,void 0,(function*(){return this.callMethod("keystore.listUsers").then(t=>t.data.result.users)})),this.deleteUser=(t,e)=>r(this,void 0,void 0,(function*(){const s={username:t,password:e};return this.callMethod("keystore.deleteUser",s).then(t=>t.data.result.success)}))}}e.KeystoreAPI=n}}]);
//# sourceMappingURL=chunk-vendors~89a8b29a.5eb90af9.js.map